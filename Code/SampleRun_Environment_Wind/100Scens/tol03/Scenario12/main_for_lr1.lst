GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      01/03/22 15:14:56 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


      This is Step 5 of Algorithm 1 of file v10.pdf (iEEE paper)
      The 1500 scenario fixed problem
      Follow up of SAA.gms
       
   7   
   8  OPTIONS PROFILE =3, RESLIM   = 2100, LIMROW   = 5, LP = CPLEX, MIP = gurobi, RMIP=gurobi, NLP = CONOPT, MINLP = DICOPT, MIQCP = CPLEX, SOLPRINT = OFF, decimals = 8, optcr=0.01, optca=0.01, threads =8, integer4=0;
   9   
  10  ********************************************************************************
  11  *-------------------------------------------------------------------------------
  12   
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/input.gms
  14  ** sets later to be defined in input file
  15   
  16  ** to be changed
  17  SETS T times/t1*t24/;
  18  SETS W scenarios /scen1*scen1500/;
  19   
  20  ALIAS (T,TT);
  21  ALIAS (W,I);
  22  ALIAS (W,SCEN);
  23   
  24  ** define generator costs and wind selling prices
  25  TABLE PRICES(T,*)
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/wind_costs.csv
  28  ,REW,GEN
  29  t1,21.86631793,50
  30  t2,22.68762551,50
  31  t3,22.63231186,50
  32  t4,23.53977501,50
  33  t5,24.15305477,50
  34  t6,25.0022415,50
  35  t7,26.14884331,50
  36  t8,28.48265662,50
  37  t9,35.32421651,50
  38  t10,53.07988113,50
  39  t11,67.07745747,50
  40  t12,43.78264533,50
  41  t13,33.25218533,50
  42  t14,28.68827035,50
  43  t15,26.76175663,50
  44  t16,23.97472252,50
  45  t17,21.05077606,50
  46  t18,18.8721276,50
  47  t19,17.16537812,50
  48  t20,15.4798614,50
  49  t21,14.81514842,50
  50  t22,14.64047737,50
  51  t23,15.10197375,50
  52  t24,17.32390701,50
  54  ;
  55   
  56  Prices(t,'rew')     =  - Prices(t,'rew');
  57  Prices(t,'gen')    =  - Prices(t,'gen');
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      01/03/22 15:14:56 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


  58   
  59  ** define wind realizations at all time periods
  60  TABLE WIND(W,T)
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/wind_scenarios.csv
  63  ,t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16,t17,t18,t19,t20,t21,t22,t23,t24
  64  scen1,48.57801599,40.61094079,49.21354257,9.009189188,7.339704438,0.372533081,18.67400028,14.58730749,20.4794258,3.130701993,3.397019697,9.735411568,11.88870104,2.030498975,11.85478714,28.39730224,40.12615232,27.32785988,29.00432803,31.09347735,27.9
      3402798,28.68586708,14.07831208,22.79007768
  65  scen2,39.99609572,40.02803937,43.32460009,4.700899412,8.719155043,20.52094237,13.42588161,6.706261125,15.76777038,11.36249303,18.89250588,22.32767448,5.653175363,0.345401222,22.04619972,52.07433037,64.38959525,60.58689064,21.76233949,17.70293831,11.
      74917625,7.656750443,8.177484636,13.15025548
  66  scen3,35.4858954,44.81028032,65.19219891,5.944865093,3.95022274,0.340997226,2.893446907,14.11366424,16.14958682,0.368565158,2.810052526,15.49426451,10.29415045,2.413210611,4.371605868,32.80207516,20.36338664,22.58866119,23.82019673,14.7505474,22.663
      45865,17.33281493,6.922925261,12.05553709
  67  scen4,31.82936647,33.09589091,24.87578158,4.02632589,20.50783589,7.179937474,25.25821916,21.32687778,14.61702375,1.184377227,14.35396638,30.53298411,14.09066521,12.00262604,13.37863014,38.95531397,37.89972099,35.98568222,19.28470722,18.69271107,18.1
      8779696,35.37136651,31.48927283,36.38296513
  68  scen5,24.62547734,24.67914455,19.27094161,0.181842023,11.1442978,21.09482082,4.215610915,3.047343399,5.397691481,5.496678405,3.748497998,7.108712352,11.78719471,17.49791357,33.35035851,39.07427145,32.55769787,50.48284355,30.81369898,19.22967005,35.4
      7684839,9.282242496,10.25801101,19.88544665
  69  scen6,40.50302425,38.21659604,56.84495251,4.792600974,10.90340017,9.278543915,3.419074612,4.615430387,12.48277846,15.1401419,11.89347048,0.518461126,1.944169567,10.80227214,26.33506706,37.1072095,39.77676885,36.07884009,27.52341122,30.24957375,31.06
      473367,39.98624547,29.93621199,14.21340287
  70  scen7,35.93006186,33.42024808,37.34200112,8.802780667,10.10011425,17.13999435,3.629360794,4.738339563,19.85739865,28.81374549,23.77774278,18.14415381,3.264500921,5.780006042,0.808012988,35.35692558,55.91303105,35.81431575,28.26924592,12.32514564,28.
      32817789,21.52532461,31.61789587,27.48398816
  71  scen8,42.11241047,40.99366311,39.58725398,5.456677309,9.63160231,4.309590162,9.144533348,10.54242187,19.71450496,16.61126821,24.53161814,33.77664281,1.626892839,0.577705276,9.335779901,45.58791222,38.79740812,43.29341218,33.45390066,9.946084179,17.6
      07646,31.36237263,36.67579872,33.79555228
  72  scen9,24.85195132,5.182585861,4.250297489,13.21142727,22.89491022,37.87099599,9.211809657,11.44736548,22.55770081,1.568416019,1.015258965,10.61828346,18.18041901,25.16417283,15.68787014,22.17578201,39.18150462,29.44013987,28.41137776,25.94407737,29.
      41833179,14.79622924,27.24288012,15.31179901
  73  scen10,51.86241767,57.09813224,53.39418106,3.564029719,4.863813154,5.65829786,7.073001542,17.39791956,32.92592039,6.849779869,5.853351141,22.31403912,8.231875923,35.80695993,24.96837154,49.39087367,47.19624479,57.65757678,14.80232511,2.677921428,5.4
      61070589,33.56959092,32.10071069,17.70169492
  74  scen11,43.74842608,53.51512772,51.19615421,0.439868504,9.459443655,29.31930003,2.048161383,9.016744288,11.29752291,3.45412568,0.923365921,9.427533363,2.098043009,6.152129611,15.35044945,40.16560491,34.7096192,36.87686527,25.4814231,39.46288985,61.15
      393784,26.21788753,35.50385128,40.75336999
  75  scen12,23.78179467,8.17501744,3.280278494,10.18250133,29.97469841,40.82940914,5.932964846,0.860377343,0.518568642,5.996338893,23.64172964,36.43869003,15.07397348,19.29715329,3.768143032,22.31842955,26.32769091,24.78632728,26.21407122,38.7700531,43.8
      8335217,38.42315259,29.86953423,30.9119308
  76  scen13,49.28836732,35.50103743,26.29556233,17.93024822,42.5523218,46.71930873,39.49670091,25.04038101,25.7585909,20.31804086,35.31385668,40.86097629,3.519009528,19.90059437,3.653609495,44.28591142,52.70771489,43.11792326,14.62117061,6.063540291,23.9
      6765631,20.91633887,22.83598411,33.05937855
  77  scen14,33.29976734,37.83815474,29.58009875,2.884158314,3.84023331,0.327885489,24.80099681,30.9117079,42.65608295,12.5131362,13.04333864,26.24419467,12.82106722,16.19293603,17.02402171,44.98982222,49.34824552,66.6235073,39.91212492,31.8735521,48.0176
      366,19.08273134,29.29501939,35.59813999
  78  scen15,41.95009153,27.15228962,23.44691031,2.688711433,3.538217776,0.345513529,6.720348251,17.25117082,28.94049251,18.48397626,22.63024251,25.66734829,23.22936404,20.82056384,33.58777567,50.09140067,38.2637527,37.35903447,10.23848723,4.840570789,0.4
      23790178,18.88127125,11.83875703,4.450550398
  79  scen16,41.14553474,24.55059505,15.65199923,6.732627453,12.08310358,2.076891772,9.09352412,14.00517355,25.38450943,14.71078293,32.12823517,43.4709558,17.60170779,29.91235077,44.01152361,29.4071815,21.88084885,16.29565337,35.40564161,32.98572817,20.56
      01985,45.42902811,49.70123918,48.2971828
  80  scen17,30.47442743,36.2025956,51.65202076,2.279092519,7.100819408,3.396795416,13.69945512,24.69809813,41.94517163,1.136064594,19.1534788,35.32331507,6.928116911,5.025916663,8.234435484,49.43081061,43.32737607,33.63271695,28.43583636,41.46322878,52.1
      9037579,23.02625921,38.82729813,35.02775017
  81  scen18,11.19445147,0.132046591,3.1605605,13.11622668,32.65831232,31.57515977,10.0923463,32.37958995,40.04632879,17.89332434,31.82462345,30.3223518,7.378468367,10.9909499,13.43987343,36.05469392,31.30925855,28.38716503,27.76074286,23.82866849,15.7076
      1395,10.58933029,0.92131513,9.971678671
  82  scen19,44.21848138,56.53458156,67.3287517,6.121017322,15.83891205,15.75298526,4.66549986,17.61848192,33.28796138,4.283780369,7.717734045,9.840406422,27.31723848,40.61068749,49.69850599,19.26586401,9.266576656,21.4427073,37.59815832,50.31452001,50.05
      491854,35.45324472,26.51667608,9.666772776
  83  scen20,35.68682759,21.99938373,18.42005347,14.65873227,18.28551167,21.09270565,19.2907066,11.47989673,10.36852164,16.61950954,13.96580359,1.09271537,6.824716151,16.24018244,28.76873583,25.94767596,28.73889214,48.50526494,28.35103327,39.92560146,36.5
      3841221,26.47417938,36.00043868,46.13613533
  84  scen21,33.19981843,25.71274796,23.96208987,13.73844046,13.24816693,38.54147818,0.85598327,8.977103296,0.00030387,14.67370003,24.68741959,26.09757547,11.41302048,1.893557616,12.24241264,42.52950666,53.61583101,54.4407056,29.09662866,53.25596383,58.28
      902341,22.77193237,22.41295893,27.91656144
  85  scen22,43.08452222,45.46993477,57.14145129,10.87916747,29.83363462,56.14613651,29.23793874,32.72255249,18.6942009,19.54222252,14.61590255,17.42206295,11.65431346,8.990416336,4.214616481,50.92386269,51.05597661,53.07320914,22.8286597,17.82017871,23.8
      268674,31.25592197,21.75546097,27.51066127
  86  scen23,32.30715779,35.99319297,51.16824533,14.67906281,24.68186404,14.03043646,6.931169605,14.18234769,2.955024842,4.958011159,15.74061622,21.67952185,17.47610776,13.88581673,21.99121777,21.99114866,25.41055393,30.30430455,42.24611618,39.35148591,44
      .5537669,34.85937025,27.93613939,20.53498083
  87  scen24,45.53708549,50.50365164,50.38234072,22.03659739,20.12922668,14.96313164,7.066996227,7.490765364,8.045338454,6.864550912,4.893348495,6.88424686,10.57815083,28.78693237,18.94164101,32.41253005,39.45587323,24.52989671,40.94204627,58.75411388,61.
      75069889,20.03717007,22.84392748,26.23665987
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      01/03/22 15:14:56 Page 3
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


  88  scen25,40.47897006,41.96733854,58.0230759,12.83361419,19.45234513,30.90366335,18.69338298,33.64740781,38.2904396,9.018375733,20.13119436,19.75820501,12.04571338,16.71072351,18.80465946,27.10849204,27.24356289,29.24688298,37.97517625,31.85293477,20.9
      1711279,27.30970827,30.2714353,30.52609326
  89  scen26,29.3747352,25.02619122,29.63094687,11.36709087,5.402625851,14.70099653,11.3566744,8.054989672,5.32429194,9.819813263,13.31407521,10.92094926,11.61700389,12.45419095,0.196716324,51.76747303,51.81904857,44.73119075,36.46654081,19.636164,8.16860
      343,23.21152008,19.73190142,5.164590242
  90  scen27,47.14737003,42.18936017,43.58645328,6.808567416,10.11239689,24.24054473,4.401840801,7.790691116,16.60120721,17.36386886,22.87407207,31.69160341,34.62673158,39.03247482,50.05731739,24.78195317,17.97572604,13.63838343,38.36404044,40.32409968,42
      .65777438,20.61151075,22.368882,28.3265994
  91  scen28,43.62500997,48.4165858,69.48016251,4.850926613,10.0686658,12.2178926,19.17210677,20.04921857,23.69418811,15.65613939,29.45169824,40.12723597,17.00200397,30.25172419,49.66470513,46.4377847,36.9959174,32.41492822,38.05116664,43.98234456,22.8985
      8416,30.85448781,37.47870679,42.59660462
  92  scen29,51.18512302,48.73067295,61.39682805,2.316960904,8.638787807,25.27285378,11.79735245,20.28802065,25.95115541,15.18290434,20.2507848,32.84001125,0.035771304,3.661974487,12.83251409,27.42145819,23.64539903,4.468918664,35.13317994,32.21460476,19.
      90020682,33.24448244,27.65009878,19.04634929
  93  scen30,30.33422603,32.46905141,42.1740887,10.39374205,5.426638491,2.807851888,2.290391502,12.81234175,30.39064517,10.57984215,1.576109578,9.216524121,3.350437922,1.240226109,12.85209215,41.04394881,43.61407631,35.87099382,37.44230194,35.00534851,18.
      69323066,12.91159765,8.125904203,21.29645135
  94  scen31,30.30844834,38.91473202,44.72828926,3.578948601,0.030726022,5.645307385,14.13507226,14.98187429,17.274486,25.13782831,37.67257641,37.78670543,7.21375334,28.17776681,31.57903167,20.61940411,16.62046507,24.71853518,24.40820959,10.08660133,5.462
      262729,37.02387887,32.07387888,13.19531277
  95  scen32,42.05804381,20.06555748,10.56707535,11.7774547,7.628792275,30.41524041,17.561444,17.31609331,23.32332339,5.683745428,11.61167148,20.64728522,26.37379378,29.3087646,24.43005884,48.07851771,52.31966918,52.33463897,31.58716726,48.38973096,55.716
      0229,27.67856956,41.34341188,39.63712524
  96  scen33,45.49666401,63.45324636,63.93362577,10.3622591,32.40652498,42.68243474,31.44671354,45.53772134,48.92395042,9.827555538,10.91525607,0.234032793,0.523848623,1.28305416,4.923172844,12.07747886,9.003479938,5.874347296,36.65244431,39.4585909,62.27
      193015,23.93694296,11.55800599,6.398911175
  97  scen34,47.06266139,41.5776394,57.03207797,8.198301612,7.165634855,11.23258017,9.298619823,17.87143267,34.87671285,3.237827342,0.135922219,20.40272649,18.13036464,13.10348192,24.86536455,36.6287207,43.47240677,40.74106067,24.24897624,17.82771363,17.6
      0904691,10.78893262,24.47065603,21.79114386
  98  scen35,39.07527777,51.28037134,33.07428154,10.15637099,6.125755866,3.422430973,7.350170977,13.3318417,26.88033011,8.246075905,4.650785223,7.793400712,13.67475658,16.08685601,20.97710084,37.58620417,31.93387596,19.94558004,31.30930007,35.22605794,25.
      46738138,23.73107459,18.21176945,11.49736553
  99  scen36,36.71873391,50.8401261,46.66895914,7.45753278,16.91495166,30.56502542,5.302794944,37.97025934,45.05521325,15.89814598,18.56384561,14.23108315,6.357153007,12.71920144,11.75293796,25.5147691,22.94757091,16.56860032,29.47894855,37.31406048,34.35
      306729,25.55536421,25.8415197,30.97581237
 100  scen37,45.35849919,31.47065645,26.25736726,7.011519013,0.924108117,4.787601201,8.523280822,9.468926584,4.940283831,3.08756452,10.94844971,0.61821851,28.15070544,41.51315372,46.765821,24.09776363,24.81273898,20.22564918,43.370569,35.08151089,36.83765
      663,27.24069899,37.11979221,30.37156458
 101  scen38,58.1105069,62.22299717,61.62458303,7.140785987,9.222625899,10.98333007,15.2790252,21.07602166,39.98025483,10.7003927,7.804941327,12.17026813,13.85439493,10.96853218,21.13178587,39.41721742,36.52540681,33.44667273,35.89523794,38.81488766,48.67
      897259,21.98808621,28.9069764,31.4706098
 102  scen39,47.6116202,82.05515672,68.65278428,16.261771,25.96337734,19.1185117,9.76193808,12.02209386,11.09214765,1.700579258,12.07997906,10.97789874,26.17996258,43.46008618,37.04723084,23.4196523,24.40139054,31.31876152,41.94195384,38.93058452,32.76321
      408,35.23477779,33.73984938,28.63856025
 103  scen40,39.83383605,37.27321754,41.4587852,6.346775695,20.3570984,52.99780443,7.58707391,14.85256867,25.92506649,16.50863449,14.46140744,8.004347606,11.81623543,13.74538512,7.325382147,33.21882812,15.76043579,12.7239309,37.35525379,54.36164311,56.286
      13864,41.47543493,52.91663053,52.00236018
 104  scen41,33.42676849,36.67528773,44.46894306,18.45038433,29.56882782,26.9691583,7.536574319,3.697653068,3.845715816,10.26253976,18.20573829,33.01951622,10.23079853,21.03190896,30.60699726,6.080539626,6.074625315,8.365172757,41.11329345,44.20641433,55.
      08446945,38.32174111,29.1610118,45.4164376
 105  scen42,43.87040072,47.24614129,37.60953685,2.499744369,2.028304872,15.46663632,18.4265484,31.19601217,26.12080312,10.16670348,5.739804639,10.82959881,1.424298427,21.05541121,42.54155152,13.26209487,14.41405747,8.702610242,30.38319947,19.31462443,19.
      86789218,23.99027958,37.48094586,34.90469773
 106  scen43,34.30569935,45.29070335,44.58045349,9.131076895,6.765726282,0.992730426,16.73013232,1.489191657,13.71287468,24.63505465,43.04909341,39.19058131,8.850692541,11.37898248,25.27775506,33.05826904,32.81376491,42.21408987,32.42134515,31.52650947,32
      .04444015,29.49422545,41.69932543,52.15691129
 107  scen44,41.33008334,51.6922626,40.78925286,16.55601712,18.83006667,15.4853071,19.13555032,23.04877401,30.21198571,7.391620544,19.02319988,26.78518546,9.818229086,26.3784762,29.08761752,44.36171792,42.47040127,43.07139116,25.19514267,28.61221557,26.64
      795681,30.18560487,31.39767366,31.81004126
 108  scen45,46.57785832,37.96040774,51.0604863,20.64496692,28.26287607,36.11459836,5.162329167,5.390672092,17.58719317,10.29059527,1.32200102,9.656352322,6.301984023,17.22598736,28.77305006,17.45743643,10.5683057,16.73261146,35.06971545,56.0911115,55.217
      08907,20.18668327,23.57708615,25.43353062
 109  scen46,47.99746068,44.54078508,46.12276947,1.926658456,7.454792009,7.370669804,2.359878533,8.124879315,12.43432027,7.547818423,1.75202856,5.19909402,8.301244757,27.81961847,9.517287534,40.09111307,24.38793124,23.1627326,61.18889356,66.27023946,73.87
      897689,26.11992553,36.0368059,19.42325477
 110  scen47,44.72967153,48.36009905,45.36394674,14.62282585,25.48266367,28.77926199,10.12558719,7.192654945,17.92544957,7.999208255,14.97325653,25.58593235,10.07219157,0.39445117,8.924930644,38.29898435,49.54014122,58.469945,32.25057019,37.96530399,33.58
      958972,20.49855939,16.82523698,27.15508278
 111  scen48,52.40780041,53.3379871,42.46620733,9.53890841,15.97115091,18.00434409,12.47891608,2.042181505,1.626060101,11.83253301,21.38511343,30.39289448,1.474384338,1.56041304,14.76270681,27.77245426,32.89124428,48.93881076,30.85861369,42.47145287,43.89
      195735,26.90001826,32.71907565,35.3707289
 112  scen49,57.00877511,83.87249276,86.48827817,5.200192382,2.211936468,5.889385287,6.086456648,6.601718063,7.987671494,12.12573352,7.337922486,6.353984318,12.47690824,11.74685753,7.220029703,33.26075625,22.49032143,16.50621399,39.64553591,45.90954371,35
      .87687856,41.8838277,51.43133976,47.20104473
 113  scen50,20.56355194,21.33153859,39.51408755,7.466433556,12.10815251,25.67712927,4.075133659,13.19945602,4.740971187,19.21715834,30.73689264,23.45720864,3.303619388,14.50288934,10.7369854,54.79653576,43.61146092,44.52488829,16.10090487,5.270626227,11.
      21897574,24.41331649,28.15608719,29.6333535
 114  scen51,21.72024034,22.65867455,27.03522693,6.952835504,18.39961287,18.14301895,21.9387453,37.67181577,54.03018232,12.08097411,2.729491328,10.92719906,2.907414697,8.862422684,6.599161524,19.87737617,13.8319099,20.94768764,42.27011753,42.43383475,43.6
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      01/03/22 15:14:56 Page 4
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


      1158511,19.12738927,4.615227662,2.421503202
 115  scen52,30.0423957,19.88905181,22.31533119,8.590450781,20.38039746,19.03283283,12.12883476,15.62904699,4.643273049,8.129848238,15.82608376,17.22445652,9.509750141,17.77564454,1.070792691,38.16070587,45.34685405,45.71927186,23.06206819,15.38392989,19.
      43903321,39.62258426,38.87150776,55.31903647
 116  scen53,19.58883615,3.228500431,9.205401544,9.535658799,18.31529873,22.78626324,3.338340466,4.478881682,10.21015902,19.03016299,14.32803205,3.920713675,2.602627528,10.00403909,2.257409027,35.51107995,43.75754112,63.27731484,36.81897876,44.56437166,44
      .88191229,34.71926963,17.25005397,3.075967738
 117  scen54,35.54039273,42.11331585,44.70303416,0.697361584,0.962842781,2.581397151,22.03544607,39.17058405,33.50137438,28.85978864,24.35691354,25.14141777,12.58570586,2.016453456,20.9557248,36.62454106,42.14808297,33.01011832,33.99084934,49.39632426,44.
      29197165,21.12382605,17.0111989,11.81668275
 118  scen55,35.74162419,32.70799432,39.69815047,2.933203573,8.633620731,11.9472003,13.77984617,1.238284334,5.635166216,9.103734628,6.528331729,12.55353687,4.958059572,17.20067599,20.54442343,33.43617554,40.72895623,37.02759897,30.65027274,30.34408022,29.
      54965598,19.06676055,10.67629026,13.06437463
 119  scen56,41.44655238,47.53623444,34.31740228,16.61477903,22.18724802,24.67072394,2.112009315,0.844465438,2.136276971,6.505936568,4.732494311,19.06298671,0.012683946,0.492322103,12.66014124,36.22891155,53.55363896,56.58367209,24.32873658,33.49843739,23
      .27216665,39.94783931,41.57733723,58.57558786
 120  scen57,41.79396448,33.54398558,42.43429152,5.089530173,2.14413978,23.94043907,16.24797689,8.594615347,23.77008401,18.93992998,22.47137838,41.36320247,17.54179919,24.47465467,18.53564667,31.04990979,13.93322615,11.66219605,35.35883027,29.23078005,24.
      51257498,26.53657271,30.66538585,34.09378598
 121  scen58,32.34130174,39.40226579,64.79422682,20.97755916,21.82717172,27.0883392,7.244451208,14.55232772,0.313928294,3.913161017,15.7300102,1.365485431,14.31856621,8.292308619,13.85429717,17.03011252,18.8477517,18.75861539,42.23445416,45.5070657,67.183
      85876,28.03258296,36.79612219,49.0775367
 122  scen59,31.10523279,11.63208678,6.107197871,1.758697572,7.74420825,5.379894724,0.073610452,2.510248517,10.79785314,5.573760269,8.466580063,21.76903496,14.03973576,14.81901682,36.32650455,27.81573888,26.23263611,21.85626315,37.93829215,37.27285362,52.
      66032723,29.6271991,29.1798997,36.34561426
 123  scen60,46.72518388,62.56266521,43.59645537,1.449894647,16.53277772,12.58516622,11.68360487,22.26769647,31.88083563,7.808992152,14.25844359,28.65924647,15.14556935,20.99543227,35.28033522,35.77251525,28.68494285,35.19845097,44.87419249,62.86095768,72
      .54453295,20.11611531,19.9592086,27.95083288
 124  scen61,35.29885627,42.34290367,42.71381733,21.04307917,30.92387724,30.00920051,14.20850946,8.386496776,12.74821467,11.22860277,14.97060556,19.81024571,18.29840313,23.2867216,17.51256684,36.0091743,43.20715766,43.33002322,17.80248249,18.55241396,24.5
      0808976,36.81734697,48.7403335,62.20904743
 125  scen62,25.68162098,24.05883449,32.2761662,20.91020547,44.93887995,33.25985691,10.89569675,18.0649872,27.04539967,10.26158082,24.05755375,23.25567375,18.11806812,38.83323488,32.43888669,39.36188386,40.06396591,31.52169619,31.48913233,38.99125632,48.1
      8865077,49.10798724,65.71400101,88.24326134
 126  scen63,39.11220233,27.23710252,24.10854329,2.777664236,17.29214769,0.813253835,8.581878995,4.333255352,12.27681951,2.025411205,3.476483029,0.956143801,8.812691249,4.618233228,5.829614482,55.08480568,69.97350809,86.31971233,18.17419653,12.80771108,17
      .28869889,2.045825832,0.779932052,5.147653484
 127  scen64,40.99649841,36.84004947,33.95588484,9.233568521,11.690291,15.29497205,18.16967561,12.78945852,10.56965966,3.040974372,6.771749759,16.51161688,4.107792926,3.784682092,3.330615728,17.41245393,4.673301168,13.29011784,32.41631606,26.44268976,34.4
      4127709,28.15615367,37.24279721,35.93892723
 128  scen65,35.01614805,36.2586298,36.52152391,20.26375089,25.15617306,14.56225262,22.47671059,16.43973339,20.28659153,2.238480691,26.9855036,24.566702,7.409401149,17.15248004,19.58695068,40.10806064,32.74100242,45.16338074,36.56742693,41.23973553,53.088
      38352,35.42207694,30.17959537,30.4216628
 129  scen66,45.4629106,57.61337718,47.95741147,20.1821402,39.83130695,44.04394785,21.55884774,24.90925371,22.38662758,18.12894226,32.52118761,44.08952834,20.51920079,33.44488089,47.81882001,34.81382943,39.06978557,39.19763774,23.83888534,14.72114953,4.23
      914411,18.49475305,33.10816595,33.66838009
 130  scen67,41.20697318,30.90050341,12.58632348,5.265377282,0.429972799,10.78278274,4.665789236,11.57509688,10.75692566,7.572633121,0.08747198,7.209928809,3.160020887,22.35311965,20.46617459,33.12404262,24.27319533,41.42724858,43.77305379,32.5000323,27.4
      2990436,27.10398816,21.20952699,1.972002773
 131  scen68,36.94280918,48.6062714,65.59127412,22.95922193,24.19980266,29.69070863,6.381004636,7.479284629,6.761592745,15.15751534,28.82667549,31.16549951,2.998319632,0.149361875,17.90964901,26.75490156,26.71192607,36.30497091,26.68547855,23.03368956,22.
      74177447,27.89004943,21.10041209,19.02979675
 132  scen69,38.58390783,64.82452338,71.37403041,13.65820095,21.97620959,22.23486563,0.319197539,7.483857525,7.126066486,14.66278861,8.383109168,9.948673245,18.6278513,15.46112893,14.75654658,32.2535892,27.98724505,9.758995549,37.36265154,53.86913848,50.3
      6250963,20.40103267,25.1300107,28.4970702
 133  scen70,43.46628306,38.74629701,25.48120044,9.436111561,17.9496539,20.90326165,12.64275701,15.82795773,17.40864495,6.972806787,8.568384998,4.293201183,16.70970155,19.66514693,19.26651708,40.10758766,51.64174761,40.25368468,27.92167476,23.58683688,13.
      64265826,33.10061244,33.9547468,30.04229712
 134  scen71,34.72068871,38.00184712,49.01560693,5.032953923,8.38572486,14.15205797,12.66141226,16.74316443,42.99748009,10.41241563,8.826660362,13.29365682,3.667730816,9.741823026,20.35775905,37.63685544,42.36718564,48.17453841,23.92970257,24.92960727,38.
      31927233,38.0419548,24.8828908,19.64981605
 135  scen72,28.75616723,20.15467959,6.926991172,2.165128737,21.42712663,13.58745453,2.71028864,1.103585355,11.43380682,12.37259221,23.17661206,22.05043461,6.474552717,12.30498559,18.988663,17.88357662,11.31391265,10.84622997,24.13540307,17.24879092,23.50
      27411,28.40172437,39.62881476,53.46979528
 136  scen73,37.49946008,19.96758529,15.74977191,8.149658559,20.16186508,15.53329049,19.1498465,11.34315475,0.05519918,15.68778718,14.69183702,25.10662023,6.970566691,19.645733,21.16047554,42.30321315,37.31107092,33.9781581,17.19539798,4.940915281,15.6168
      9337,29.82533173,37.55947159,39.47078291
 137  scen74,40.26752795,54.15733689,62.93053321,4.730062397,27.68365962,45.27140385,18.49472439,25.71070247,29.55603934,1.527742129,7.40189235,8.214055233,5.807837993,11.56142563,1.272910734,35.91903434,32.19863082,41.65535478,46.08611445,48.41828527,36.
      83551044,20.91870396,36.51505806,39.6038934
 138  scen75,43.96448397,50.88639277,42.76149984,29.68423136,36.19222237,35.05459477,16.59869653,19.45103768,19.9486976,8.679765212,27.65151665,27.62484088,15.26726509,14.10462044,20.61795604,51.90837943,77.90411175,96.2587289,7.510669576,20.25383331,29.1
      8351784,37.105173,42.08884539,35.48930985
 139  scen76,38.71914619,33.10541036,28.40111493,9.073622878,3.796812344,12.5632589,2.88542005,0.107931366,5.536186876,4.550523622,12.85458287,23.23513129,4.330877606,14.69333909,24.19024923,22.67918043,20.33598366,24.9056289,18.76048118,13.57984122,7.538
      451052,25.35402081,32.48194829,28.59938004
 140  scen77,34.5656519,34.36763071,34.68196959,5.54015351,3.744786914,9.258452636,2.802113373,9.295329455,4.332949588,25.38402343,19.30306357,6.773246828,11.48974235,17.949574,25.28715602,26.47390154,23.23889974,24.66113486,12.00852459,2.189374066,13.811
      42042,30.51551452,20.40534695,17.65445968
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      01/03/22 15:14:56 Page 5
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 141  scen78,44.80936686,42.88151393,60.42372673,7.089544163,22.58574004,8.468771629,16.55104966,14.36580063,21.89127858,8.547047591,21.91001684,25.6247101,32.31853537,25.00039145,8.197458945,16.4591856,11.70252682,34.69740179,18.2462016,6.576933144,3.868
      734942,37.65223042,57.93244298,61.34128654
 142  scen79,37.90831226,22.92176432,24.70181039,1.269096203,2.73568855,7.144147135,24.27968477,19.74000071,7.459680874,10.8266494,10.07267252,21.20561469,5.73400346,5.075150778,0.759035604,33.52846125,48.11034814,50.16361383,4.160572718,3.453668481,1.701
      22644,23.34193378,46.3551979,54.39362956
 143  scen80,46.85761089,19.46402172,9.911448825,27.36725478,51.08560065,56.90573278,2.331819964,12.72603136,15.57424324,1.342219977,1.518204402,12.98187753,2.306646814,12.92771822,8.060206528,43.16779445,27.68044434,19.61881437,37.15611781,33.99727146,41
      .08681933,24.34381436,20.75264277,36.62118345
 144  scen81,38.13896542,36.93759298,34.19921192,13.41885685,23.8788642,15.45926289,11.25691522,0.637388295,7.705839528,1.695213074,11.34893473,20.51071764,4.737728864,16.76885669,9.057915435,28.83696808,38.75703011,34.94449701,31.69503919,41.32844532,65.
      22434374,27.1119637,20.90757643,33.33466234
 145  scen82,38.95082692,33.84231262,29.86289171,7.954020644,7.593550706,5.835495308,24.17169118,25.69825353,26.41051782,4.343804433,16.99244159,20.23957817,0.675335127,20.78265374,31.18261319,28.44681849,20.4980123,12.56137019,21.27964169,17.0362078,1.00
      8977752,24.06060368,33.85480441,24.31964442
 146  scen83,38.11895891,31.76995923,43.12121214,18.14594528,12.9960679,20.52935127,9.610785524,5.608011455,5.046273143,15.92728971,6.174365047,1.615315145,1.934972847,2.616372531,10.43177011,30.62876281,27.35720173,27.8461351,18.65423148,3.594814707,2.53
      7786599,13.89551228,1.335935429,18.19447698
 147  scen84,30.05603474,19.82421444,16.03744203,6.903869132,3.953657725,28.58511221,21.66057116,20.39415866,26.78408941,14.74709303,8.628753749,11.90547606,10.22167477,10.4179289,23.9278105,31.9325325,38.10850924,30.76414714,18.48892978,12.2163163,16.838
      68501,30.92136817,33.56219582,24.16412658
 148  scen85,30.00049248,10.31763556,0.122925265,6.275657954,11.68862117,10.70245908,19.79116433,33.28676295,25.01258986,0.791925121,0.568373904,11.9538293,7.392277852,8.670602642,14.7303885,43.44361497,35.73560251,15.17518809,28.594821,35.10065305,28.252
      36278,12.21750452,9.12088832,35.57848098
 149  scen86,29.66733968,22.52668579,24.37380263,1.8146602,20.15823173,8.071803838,1.636258988,7.041700797,2.33124001,36.91691667,43.11747217,51.66088709,3.444392674,22.78027783,37.29930409,33.64786674,37.64605029,25.63807732,11.64377581,18.54902961,31.27
      756905,23.27181291,31.25578703,35.10471996
 150  scen87,56.36349925,60.05128534,57.22813662,1.242257699,8.204512313,3.093736271,6.01176914,24.31623089,27.56921061,17.7797497,22.01274997,2.405721108,13.68607955,16.86223114,0.731650445,28.8011174,27.17579875,31.58218005,35.25595689,48.377105,41.3450
      9438,12.53970396,8.336161411,13.96612318
 151  scen88,37.06582826,25.83505209,31.55134771,22.82484257,29.90947352,32.68254012,2.093329099,5.073643324,9.566146825,12.78917266,12.16298396,12.52283298,9.04326325,4.984053407,4.407775914,39.66343114,26.86767748,34.62549238,30.4286111,40.02962213,23.3
      4564249,38.88383318,42.48014795,22.23482951
 152  scen89,48.15435579,53.36477043,61.98397921,14.69697613,25.75072413,26.06438847,11.95712972,6.595240005,9.819320048,27.47271247,44.04409641,36.44400149,18.84667167,27.99979611,18.19431656,20.22874567,19.85318325,32.9046505,27.97451145,37.89711313,28.
      92750252,27.06173737,30.15015964,26.9834576
 153  scen90,42.40637474,39.68370213,48.96926435,8.07106492,30.0300588,38.15084364,21.54873294,14.96752257,8.678847864,15.02911984,25.82300042,27.94750142,24.24140792,16.8026403,16.06647154,39.31296821,45.70332244,68.38682436,37.64258395,57.05948283,64.99
      40902,30.88781799,14.81206607,27.05533769
 154  scen91,57.08728106,58.33285402,62.25404805,23.79512152,25.16773367,20.0781487,10.75461758,23.8387027,24.88814354,7.95894386,11.59586297,30.50788545,9.669783212,16.97837965,15.27352011,31.48583986,37.20731451,27.67457586,34.66308203,50.11677769,56.14
      501467,23.67638889,22.1434129,18.50347897
 155  scen92,48.024672,34.94192513,37.52929786,7.455687783,0.119482267,13.68523119,10.20554379,17.36280537,20.03412152,8.604300118,19.98142845,15.60406896,3.550644602,1.177549845,14.06238566,54.29152808,51.88643771,62.22664871,27.95095326,29.14173006,39.4
      7333679,41.65831457,50.60637828,46.14496729
 156  scen93,27.08387587,17.17880062,35.05702887,10.0456242,23.87714388,24.55303792,22.21947537,29.84409995,44.9172886,10.78794059,16.53312003,2.207724062,10.85846847,9.233822012,16.10129239,27.18579898,25.87493756,27.07222845,31.6011595,27.02875643,31.05
      501754,22.30422684,9.697633367,4.272124045
 157  scen94,35.83069031,38.71597631,27.80111304,6.577844668,1.875337743,10.55043002,10.23631316,4.097834127,10.03134012,1.249907359,7.088359503,3.738178648,22.07854968,19.98449861,25.25956326,37.61136181,44.14249895,40.0137786,30.00550708,27.09188119,39.
      04574693,37.42806085,36.67915298,24.15985415
 158  scen95,47.68027675,40.7573384,34.82504748,11.84637379,13.10279607,9.308545877,5.742882689,1.159153036,13.37416126,13.99055353,17.76245218,17.91374629,7.557004517,2.340681296,8.406126416,34.63918999,39.84006121,36.25136889,25.21574911,31.10126541,13.
      25016863,37.44188656,41.52573196,35.54944426
 159  scen96,41.81363797,43.22143242,26.17656045,6.844410848,12.89937846,12.53507012,10.23601872,5.349640628,2.871991139,12.70983614,17.38314049,18.27639336,12.25349861,3.596007756,0.002155302,22.98638656,17.38875173,26.25737261,42.10690432,55.55629866,53
      .45403719,21.12194577,15.65214706,19.20411845
 160  scen97,61.03344852,83.11273168,92.48821426,2.381790976,0.452546787,7.391539135,13.84547964,3.652261878,14.03333743,9.888496233,6.015128296,15.20504061,0.909014869,4.683139424,15.85893649,42.00491324,30.81239577,34.25652043,42.98891644,42.42449526,37
      .45098448,30.40568022,46.7662102,29.11180924
 161  scen98,38.54642346,45.60172601,46.51126792,16.45546909,8.840932009,13.28133101,12.59390215,15.13930466,22.99556836,13.11115756,28.72803808,37.55330838,23.15695386,34.83539278,24.34525695,11.85019824,10.94117443,4.365530852,32.00554065,46.8308754,48.
      51845188,27.46236377,35.54754146,43.47467783
 162  scen99,23.92530752,31.0411026,30.54361075,10.64040637,13.73976058,8.163819629,13.50189212,21.03379667,24.7132582,8.445707226,8.254320785,13.29448439,12.41106717,7.907537379,3.078358234,14.57391812,14.52825826,26.56052971,21.32018199,12.71631367,22.9
      1135541,46.79280431,44.80302245,37.73366297
 163  scen100,43.32922218,66.34965174,52.26562356,1.254094187,6.864463703,7.898365322,0.270237613,17.05975839,39.64184725,12.38591969,9.115022616,6.866315134,4.381251094,20.96421941,24.37116226,20.76191422,33.16705974,44.49224998,19.89865304,13.59573479,7
      .366456345,16.56613974,18.68613076,28.27837135
 164  *$INCLUDE wind_scenarios_1500.csv
 166  ;
 167   
 168  scalar PROBABILITY;
 169  PROBABILITY = 1/CARD(W);
 170  ;
 171   
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      01/03/22 15:14:56 Page 6
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 172   
 173  ** define tolerance threshold
 174  SCALAR TOL;
 175  TOL =0.05;
 176   
 177   
 178  Parameter last_z(scen);
 179   
 180  SCALAR G, GG, start_cost, ramp, uptime, downtime;
 181  G=130;
 182  GG=20;
 183  ramp=50;
 184  UPTIME =3;
 185  DOWNTIME=3;
 186   
 187  * maximum number of iterations in LR
 188  set iter number of subgradient iterations /iter1*iter10/;
 189  set iterFIX iterations for fixed /iter1*iter30/;
 190   
 191  TABLE y_100(t,iterFIX)
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/sampled_dynamic_hi.csv
 194  ,iter1,iter2,iter3,iter4,iter5,iter6,iter7,iter8,iter9,iter10,iter11,iter12,iter13,iter14,iter15,iter16,iter17,iter18,iter19,iter20,iter21,iter22,iter23,iter24,iter25,iter26,iter27,iter28,iter29,iter30
 195  t1,59.155,57.003,57.276,58.07,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 196  t2,31.042,31.262,31.493,36.825,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 197  t3,20.07,20.212,20.361,26.401,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 198  t4,2.036,0.311,0.313,0.31,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 199  t5,1.413,1.423,1.433,1.419,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 200  t6,2.468,2.485,4.462,4.418,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 201  t7,1.427,1.246,1.255,1.242,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 202  t8,9.126,7.436,7.491,7.416,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 203  t9,50.342,49.039,50.618,48.992,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 204  t10,84.689,84.228,86.519,86.934,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 205  t11,131.202,130.58,131.898,131.879,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 206  t12,84.327,83.717,85.067,85.018,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 207  t13,38.096,38.766,39.583,40.054,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 208  t14,7.384,7.658,7.715,7.638,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 209  t15,6.157,6.2,6.246,6.184,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 210  t16,21.786,27.61,22.102,21.882,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 211  t17,26.441,26.629,27.289,27.017,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 212  t18,20.082,20.224,16.432,16.268,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 213  t19,24.345,22.037,22.2,21.978,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 214  t20,23.16,13.065,16.982,16.812,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 215  t21,23.382,18.828,18.967,18.778,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 216  t22,20.132,18.735,18.581,18.039,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 217  t23,14.101,14.201,14.306,15.666,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 218  t24,12.036,13.942,14.045,14.677,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 220  ;
 221   
 222  * time limit for each problem
 223  scalar time_limit;
 224  *time_limit=%TIMELIM%;
 225  time_limit=2250;
 226   
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      01/03/22 15:14:56 Page 7
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


      * Import the SORTED file
      table scenario_sorted(scen,*)
      $ondelim
      $INCLUDE scenario_sorted_1500.csv 
      $offdelim
      ;
 235   
 236  scalar n;
 237  n=card(scen);
 238   
 239  *Scalar which tells if LR converges
 240  scalar convergence;
 241   
 242  ** define battery  operation costs costs and solar selling prices
 243  ** define solar scenarios at all time periods
 244   
 245   
 246  * Scaling of wind power scenarios ;
 247  scalar scale ;
 248  scale = 1;
 249  wind(scen,t) = scale* wind(scen,t) ;
 250  * Remove too many decimals in Solar
 251  wind(scen,t) = round(wind(scen,t),2) ;
 252   
 253   
 254  parameters max_store(t), min_store(t), max_charge, max_discharge;
 255   
 256   
 257  ** define tolerance threshold
 258  SCALAR threshold;
 259  threshold = floor(card(scen)*TOL)  ;
 260   
 261   
 262  parameter maxwind(t), minwind(t), dummywind(w,t) ;
 263  maxwind(t) =smax(w,wind(w,t)) ;
 264  dummywind(w,t) = wind(w,t) ;
 265   
 266  scalar it ;
 267  it = floor(card(w)*tol) + 1;
 268   
 269  * index of it
 270  set dummy(w);
 271  * make the dum_iter go till at least the size of it
 272  set dum_iter /dum_iter1*dum_iter100/;
 273  loop(t,
 274  loop(dum_iter$(ord(dum_iter)le it),
 275  * find the smallest wind value for this t
 276           minwind(t) = smin(w,dummywind(w,t)) ;
 277  * index of smallest wind value
 278           dummy(w) = yes$(dummywind(w,t) eq minwind(t)) ;
 279  * make the smallest wind value large
 280           dummywind(w,t)$dummy(w) =maxwind(t) ;
 281  ); );
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      01/03/22 15:14:56 Page 8
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 282  display minwind ;
 283   
 284   
 285   
 286  parameter BigMM(w), BigM(w,t);
 287  BigMM(w)= smax(t, wind(w,t));
 288  BigM(w,t)= G - wind(w,t) + minwind(t);
 289   
 290   
 291  scalar run_time_total, start_time, end_time, LP_time, bound_time, lr_time ;
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/subgradient_parameters.gms
 293  parameter lambda;
 294  parameter ldual value of Lagrangian dual ;
 295  parameter bound total value of Lagrangian dual ;
 296  scalar init_lambda, init_bound initial value of lambda dual LP objective from LP ;
 297  *Hier werden die maximalen Iterationen, also big M festgelegt
 298  *set iter                 number of subgradient iterations /iter1*iter3/;
 299  scalar num_iter          how many iterations we did ;
 300  scalar contin            stopping             /1/;
 301  parameter stepsize;
 302  scalar theta /2/;
 303  scalar originalTheta;
 304  originalTheta=theta;
 305  scalar noimprovement /0/;
 306  scalar upperbound ;
 307  parameter gamma           subgradient          ;
 308  parameter b;
 309  parameter norm;
 310  parameter norm2;
 311  scalar lowerbound;
 312  parameter lambdaprevious, deltalambda, results(iter,*), prev_w(scen,t), prev_y(t), prev_z(scen)  ;
 313  scalar profitFIXED;
 314  parameter  profit(iterFIX), yprevious(t), run_time(iterFIX);
 315   
 316   
 317  scalar m ;
 318  parameter   y_previous(scen,t), y_average_previous(t), weight_previous(scen,t);
 319  scalar profit_orig, t1, t2, exit_tol;
 320   
 321  scalar final_gap ;
 322   
 323  parameter lb(scen) ;
 324  parameter rho(t) ;
 325   
 326  scalar exit_tol ;
 327  exit_tol = 0.00001 ;
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/equations.gms
 329   
 330  POSITIVE VARIABLES X(W,T), Y(T), U(W,T), V(W,T);
 331  VARIABLES OBJ, BOUND_LR;
 332  BINARY VARIABLE Z(SCEN), R(W,T) ;
 333   
 334  scalar counter ;
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      01/03/22 15:14:56 Page 9
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 335   
 336  EQUATIONS
 337          Objective
 338          ObjectiveFIX
 339          Const1_1(scen,t)
 340          Const1_1FIX(scen,t)
 341          Const1_2
 342          Const1_2FIX
 343          Const_3_1(scen,t)
 344          Const_3_1_scenario(scen,t)
 345          Const_3_1FIX(scen,t)
 346          Const_3_2(scen,t)
 347          Const_3_2_scenario(scen,t)
 348          Const_3_2FIX(scen,t)
 349          Const_4_1(scen,t)
 350          Const_4_1_scenario(scen,t)
 351          Const_4_1FIX(scen,t)
 352          Const_4_2(scen,t)
 353          Const_4_2_scenario(scen,t)
 354          Const_4_2FIX(scen,t)
 355          Const_5(scen,t)
 356          Const_5_scenario(scen,t)
 357          Const_5FIX(scen,t)
 358          Const_6(scen,t)
 359          Const_6_scenario(scen,t)
 360          Const_6FIX(scen,t)
 361          LR
 362          Objective_scenario(scen)
 363          Const1_1_scenario(scen,t)
 364          ;
 365   
 366  ObjectiveFIX.. OBJ=E= SUM(T,PRICES(T, 'REW')*Y(T) - PROBABILITY*SUM(W, PRICES(T, 'GEN')*( X(W,T) + GG*R(w,t) ) )  )  ;
 367   
 368  Objective.. OBJ=E= SUM(T,PRICES(T, 'REW')*Y(T) - PROBABILITY*SUM(scen, PRICES(T, 'GEN')*( X(scen,T) + GG*R(scen,t) ) )  )  ;
 369   
 370  LR.. bound_lr =e=   SUM(T,PRICES(T, 'REW')*Y(T) - PROBABILITY*SUM(scen, PRICES(T, 'GEN')*( X(scen,T) + GG*R(scen,t) ) )  )
 371                           - lambda* (threshold - sum(scen, z(scen)))  ;
 372   
 373  Objective_scenario(scen)$(ord(scen) eq counter)..
 374           OBJ =E= SUM(TT,PRICES(tt, 'REW')*Y(TT) - PRICES(TT, 'GEN')*( X(scen,TT) + GG*R(scen,tt) ) )     ;
 375   
 376  *Const1_1(W,T).. Y(T)-X(W,T)-R(W,T)*GG -Z(W)*WIND(W,T) =L= (1-Z(W))*BigMM(w) ;
 377  Const1_1(scen,T).. Y(T)-X(scen,T)-R(scen,T)*GG -WIND(scen,T) =L= Z(scen)*BigM(scen,t) ;
 378   
 379  Const1_1FIX(W,T).. Y(T)-X(W,T)-R(W,T)*GG -WIND(W,T) =L= Z(W)*BigM(w,t) ;
 380   
 381  *Const1_1_scenario(scen,t)$(ord(t) lt card(t) and (ord(scen) eq counter))..
 382  Const1_1_scenario(scen,t)$(ord(scen) eq counter)..
 383   
 384           Y(T)-X(scen,T)-R(scen,T)*GG -WIND(scen,T) =L= 0 ;
 385   
 386  Const1_2..   -SUM(SCEN, Z(SCEN)) =G= -threshold;
 387  Const1_2FIX..  SUM(W,Z(W)) =L= threshold ;
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     01/03/22 15:14:56 Page 10
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 388   
 389  ****************************************************************************TODO Constraints (all but no. 1) in scenario form (z(w)=0)
 390   
 391  * The generator constraints
 392   
 393  *Ramp
 394  Const_3_1FIX(W,T)$( ord(t) le (card(t)-1)).. X(W,T+1) + GG*R(w,t+1)- X(W,T) - GG*R(w,t)  =L= ramp*(U(w,t+1) + R(w,t)) ;
 395  Const_3_1(scen,T)$( ord(t) le (card(t)-1)).. X(scen,T+1) + GG*R(scen,t+1)- X(scen,T) - GG*R(scen,t)  =L= ramp*(U(scen,t+1) + R(scen,t)) ;
 396  Const_3_1_scenario(scen,T)$( ord(t) le (card(t)-1) and (ord(scen) eq counter)).. X(scen,T+1) + GG*R(scen,t+1)- X(scen,T) - GG*R(scen,t)  =L= ramp*(U(scen,t+1) + R(scen,t)) ;
 397   
 398  Const_3_2(scen,T)$( ord(t) le (card(t)-1)).. X(scen,T) + GG*R(scen,t)- X(scen,T+1) -GG*R(scen,t+1)=L= ramp*(V(scen,t+1) + R(scen,t+1)) ;
 399  Const_3_2_scenario(scen,T)$( ord(t) le (card(t)-1) and (ord(scen) eq counter)).. X(scen,T) + GG*R(scen,t)- X(scen,T+1) -GG*R(scen,t+1)=L= ramp*(V(scen,t+1) + R(scen,t+1)) ;
 400  Const_3_2FIX(W,T)$( ord(t) le (card(t)-1)).. X(W,T) + GG*R(w,t)- X(W,T+1) -GG*R(w,t+1)=L= ramp*(V(w,t+1) + R(w,t+1)) ;
 401   
 402  *On/off
 403   
 404  Const_4_1(scen,T)$(ord(t) ge uptime)..   Sum(tt$((ORD(TT) le ORD(T)) and (ORD(TT) ge (ORD(T) - UPTIME +1))),U(scen,TT)) =L= R(scen,T) ;
 405  Const_4_1_scenario(scen,T)$(ord(t) ge uptime and (ord(scen) eq counter))..   Sum(tt$((ORD(TT) le ORD(T)) and (ORD(TT) ge (ORD(T) - UPTIME +1))),U(scen,TT)) =L= R(scen,T) ;
 406  Const_4_1FIX(W,T)$(ord(t) ge uptime)..   Sum(tt$((ORD(TT) le ORD(T)) and (ORD(TT) ge (ORD(T) - UPTIME +1))),U(W,TT)) =L= R(W,T) ;
 407   
 408  Const_4_2(scen,T)$(ord(t) ge downtime )..Sum(tt$((ORD(TT) le ORD(T)) and (ORD(TT) ge (ORD(T) - DOWNTIME +1))),V(scen,TT)) =L= 1-R(scen,T) ;
 409  Const_4_2_scenario(scen,T)$(ord(t) ge downtime and (ord(scen) eq counter))..Sum(tt$((ORD(TT) le ORD(T)) and (ORD(TT) ge (ORD(T) - DOWNTIME +1))),V(scen,TT)) =L= 1-R(scen,T) ;
 410  Const_4_2FIX(W,T)$(ord(t) ge downtime )..Sum(tt$((ORD(TT) le ORD(T)) and (ORD(TT) ge (ORD(T) - DOWNTIME +1))),V(W,TT)) =L= 1-R(W,T) ;
 411   
 412  Const_5(scen,T)$(ord(t) ge 2).. U(scen,T) - V(scen,T) =E= R(scen,T) - R(scen,T-1) ;
 413  Const_5_scenario(scen,T)$(ord(t) ge 2 and (ord(scen) eq counter)).. U(scen,T) - V(scen,T) =E= R(scen,T) - R(scen,T-1) ;
 414  Const_5FIX(W,T)$(ord(t) ge 2).. U(W,T) - V(W,T) =E= R(W,T) - R(W,T-1) ;
 415   
 416  *if uptime more than 1
 417  Const_6(scen,T)$( ord(t) le (card(t)-1))..   (G-GG)*R(scen,T)- (G-ramp)*U(scen,T) - (G-ramp)*V(scen,T+1) =G= X(scen,T);
 418  Const_6_scenario(scen,T)$( ord(t) le (card(t)-1) and (ord(scen) eq counter))..   (G-GG)*R(scen,T)- (G-ramp)*U(scen,T) - (G-ramp)*V(scen,T+1) =G= X(scen,T);
 419  Const_6FIX(W,T)$( ord(t) le (card(t)-1))..   (G-GG)*R(W,T)- (G-ramp)*U(W,T) - (G-ramp)*V(W,T+1) =G= X(W,T);
 420   
 421   
 422  *** bounds on any variables
 423  X.UP(scen,T) =  G-GG;
 424  U.UP(scen,T) = 1;
 425  V.UP(scen,T) =1;
 426  Z.UP(scen)=1;
 427   
 428  * initialize the on/off variables
 429  * assume the unit was on for last (uptime -1) periods
 430  r.fx(scen,t)$(ord(t) eq 1) =1;
 431  u.fx(scen,t)$(ord(t) eq 1) = 0;
 432  v.fx(scen,t)$(ord(t) eq 1) = 0 ;
 433  * assume the generator was producing minimim power in last time period
 434  x.up(scen,t)$(ord(t) eq 1)= ramp - GG;
 435   
 436   
 437  ******* ALL MODELS
 438   
 439  model schedule     / Objective,  Const1_1, Const1_2, Const_3_1, Const_3_2, Const_4_1, Const_4_2, Const_5, Const_6 /;
 440  model schedule_scenario     / Objective_scenario,  Const1_1_scenario, Const_3_1_scenario, Const_3_2_scenario, Const_4_1_scenario, Const_4_2_scenario, Const_5_scenario, Const_6_scenario / ;
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     01/03/22 15:14:56 Page 11
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 441  *model INITIAL               / / ;
 442  model Lagrangian      / LR,    Const1_1, Const_3_1, Const_3_2, Const_4_1, Const_4_2, Const_5, Const_6 /;
 443  MODEL  SCHEDULEFIX    /ObjectiveFIX,Const1_1FIX,Const1_2FIX, Const_3_1FIX, Const_3_2FIX, Const_4_1FIX, Const_4_2FIX, Const_5FIX, Const_6FIX/;
 444   
 445   
 446   
 447   
 448   
 449   
 450   
 451   
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/lp_lowerbound.gms
 453  start_time = jnow ;
 454  options optca=0 ;
 455  options optcr=0 ;
 456  solve schedule using RMIP minimizing OBJ ;
 457  end_time =jnow ;
 458  LP_time = ghour(end_time - start_time)*3600 + gminute(end_time - start_time)*60 + gsecond(end_time - start_time);
 459  init_lambda  = Const1_2.m ;
 460  lowerbound   = Obj.l ;
 461  scalar LP_bound ;
 462  lambda       = init_lambda ;
 463  display init_lambda, LP_time, lowerbound    ;
 464  LP_bound   = Obj.l ;
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/heuristic_upperbound.gms
 466  ********************************************************************************
 467  * Find a upperbound on the problem : a feasible solution
 468  ********************************************************************************
 469   
 470  *upperbound =  0;
 471  * Find a upper bound using a fixed value and solving MIP (a feasible solution)
 472  * solve single scenario problem and choose the worst #threshold problems
 473  start_time = jnow ;
 474  schedule_scenario.solvelink = 5 ;
 475  alias(rs,scen)
 476  parameter res_scenarios(rs,*) ;
 477   
 478  loop(rs,
 479  counter = ord(rs)  ;
 480  *Solving (2) for each scenario w with corresponding z(w) = 0
 481  solve schedule_scenario using MIP minimizing Obj ;
 482  res_scenarios(rs,'obj') =obj.l ;
 483   
 484   
 485  res_scenarios(rs,'scenario') = counter ;
 486  *=counter
 487   
 488   
 489  );
 490  end_time =jnow ;
 491  run_time_total = ghour(end_time - start_time)*3600 + gminute(end_time - start_time)*60 + gsecond(end_time - start_time);
 492   
 493   
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     01/03/22 15:14:56 Page 12
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 494  ** Write to a file to sort
 495  FILE scen_sorted /scen_sorted.csv/;
 496  *.PC specifies the format of the put file: 5 -> Formatted output; non-numeric output is quoted and each item is delimited with commas.
 497  scen_sorted.PC = 5;
 498  *.ND sets the number of decimals that are displayed in the put file
 499  scen_sorted.ND = 3;
 500  PUT scen_sorted;
 501  loop(rs, put res_scenarios(rs,'scenario') put res_scenarios(rs,'obj') put /; ) ;
 502  PUTCLOSE scen_sorted;
 503   
 504   
 505  z.lo(scen) = scenario_sorted(scen,'value') ;
****                             $140         $116
**** LINE     40 INCLUDE     /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/heuristic_upperbound.gms
**** LINE     17 INPUT       /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/main_for_lr1.gms
 506  *** Ensure file was generated correctly
 507  if ( sum(scen,z.lo(scen)) ne threshold, abort "sorted file not generated correctly check manually") ;
 508  start_time = jnow ;
 509  schedule.solprint = 0;
 510  *schedule.optfile  = 1;
 511  schedule.solvelink = 5 ;
 512  solve schedule using MIP minimizing Obj ;
****                                          $257
**** LINE     47 INCLUDE     /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/heuristic_upperbound.gms
**** LINE     17 INPUT       /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/main_for_lr1.gms
 513  end_time = jnow ;
 514  bound_time =  run_time_total + ghour(end_time - start_time)*3600 + gminute(end_time - start_time)*60 + gsecond(end_time - start_time);
 515  upperbound = Obj.l ;
 516  prev_y(t) = y.l(t) ;
 517  *prev_w(scen,t) = w.l(scen,t) ;
 518  * Clear bound on z now
 519  z.up(scen) = 1 ;
 520  z.lo(scen) = 0 ;
 521   
 522  display lowerbound,upperbound,prev_y, LP_time, bound_time  ;
 523   
 524   
 525   
 526  File TestingFile3 / LR1.csv /;
 527  TestingFile3.pc=5;
 528  TestingFile3.nd=5;
 529  put TestingFile3;
 530  put 'Omega', put 'Tolerance', put 'Step Size Rule', put 'Iterations', put 'Converged?', put 'Gap LR', put 'Gap Naive', put 'Obj. Naive', put 'Obj. LR', put 'Gap' put 'Time Naive', put 'Time LR', put 'Final Lambda', put 'LB Heuristic' put /;
 531   
 532   
 533   
 534  ********************************************************************************
 535  * Solve the Lagrangian Dual problem now
 536  ********************************************************************************
 537  scalar d;
 538  scalar FinalIter;
 539  sets ro "rows" /1/;
 540  sets cl "columns" /1*3/;
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     01/03/22 15:14:56 Page 13
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


GDXIN   /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/Naive.gdx
 543  *$load i=dim1
 544  *$load j=dim2
 545  parameter nv(ro,cl) ;
--- LOAD  nv = 1:nv
 548  display ro,cl,nv;
 549   
 550  scalar zlower;
 551  zlower=nv('1','1');
 552   
 553  scalar GapNaive;
 554  GapNaive =nv('1','2');
 555   
 556  scalar TimeNaive;
 557  TimeNaive= nv('1','3');
 558   
 559  parameter ldual_iter(iter) obj function at each iteration ;
 560  lr_time = 0 ;
 561   
 562  option limrow = 0, limcol = 0, optca=0.0001, optcr=0.0001;
 563   
 564   
 565  parameter check(scen,t);
 566  scalar steprule;
 567  steprule=1;
 568  scalar FinalIter;
 569   
 570   
 571      lr_time=0;
 572      run_time_total=0;
 573   
 574   
 575   
 576      y.lo(t)=0;
 577      y.up(t)=INF;
 578      option clear=y;
 579      Lagrangian.solveOpt=2;
 580   
 581      loop(iter$contin,
 582      num_iter = ord(iter) ;
 583  *         pass a warm start
 584  *             y.l(t) = prev_y(t) ;
 585  *             z.l(scen) = prev_z(scen) ;
 586               start_time = jnow;
 587   
 588  *********************************************************************
 589  ***Solve a Lagrangian iteration
 590  *********************************************************************
 591   
 592  *Test
 593   
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/plain_lr.gms
 595  * Plain LR solve
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     01/03/22 15:14:56 Page 14
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 596  Lagrangian.solvelink = 5;
 597  Lagrangian.optfile   = 1;
 598  solve Lagrangian using mip minimizing bound_lr  ;
****                                                  $257
**** LINE      4 INCLUDE     /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/plain_lr.gms
**** LINE     88 INPUT       /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/main_for_lr1.gms
 599   
 600  bound             = bound_lr.l ;
****                               $141
**** LINE      6 INCLUDE     /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/plain_lr.gms
**** LINE     88 INPUT       /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/main_for_lr1.gms
 601  prev_y(t)         = y.l(t) ;
 602  last_z(scen)      = z.l(scen) ;
 603   
 604  * if model is unbounded
 605  if (Lagrangian.modelstat =18,  bound = -100000000;  );
 606  results(iter,'status') = Lagrangian.modelstat;
 607   
 608      end_time = jnow ;
 609      results(iter,'time') = ghour(end_time - start_time)*3600 + gminute(end_time - start_time)*60 + gsecond(end_time - start_time);
 610      results(iter,'objective') = bound ;
 611   
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/LR_updates.gms
 613  *** UPDATES FOR LAMBDA, GAMMA, THETA
 614   
 615  * Gamma update
 616  gamma =  threshold - sum(scen, last_z(scen));
 617   
 618  * Bound and theta Update -> in stepsize 6
 619  if (bound > lowerbound,
 620           lowerbound = bound;
 621           noimprovement = 0;
 622  else
 623           noimprovement = noimprovement + 1;
 624           if (noimprovement > 1,  theta = theta/2; noimprovement = 0; );
 625  );
 626   
 627  * Fix the Stepsize
 628   
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/stepsizes.gms
 630  *** Guarantees that never zero in the denominator
 631  *norm = max(abs(gamma), 1e-6);
 632  norm2 = max(gamma*gamma, 1e-6);
 633   
 634  *** constant step-size rule
 635  if(steprule=1,stepsize =0.58;);
 636   
 637  *** constant step length
 638  if(steprule=2,stepsize = 200/norm2;);
 639   
 640  *** square summable but not summable
 641  if(steprule=3,stepsize =3/(2+num_iter););
 642   
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     01/03/22 15:14:56 Page 15
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 643  *** nonsummable diminishing
 644  if(steprule=4,stepsize= 1/sqrt(num_iter););
 645   
 646  *** nonsummable diminishing step length
 647  if(steprule=5,stepsize= (300/num_iter)/norm2;);
 648   
 649  *** original
 650  if(steprule=6,stepsize=theta*(upperbound - bound)/norm2;);
 651   
 652  * Lambda Update
 653   
 654  lambdaprevious = lambda ;
 655   
 656           if (gamma ge 0 and lambdaprevious eq 0,
 657                   lambda = lambdaprevious ; );
 658           if (gamma gt 0 and lambdaprevious gt 0,
 659                   lambda = lambdaprevious - min(stepsize, lambdaprevious/gamma)*gamma ; );
 660           if (gamma le 0,
 661                   lambda = lambdaprevious - stepsize*gamma; );
 662   
 663  * Check convergence
 664  convergence=0;
 665  deltalambda = abs(lambdaprevious-lambda) ;
 666  if( deltalambda < 0.0001, contin = 0; display 'lambdas same'; convergence = 1 );
 667   
 668  * Results output
 669  results(iter,'deltalambda') = deltalambda;
 670  results(iter,'noimprov') = noimprovement;
 671  results(iter,'theta') = theta;
 672  results(iter,'step') = stepsize;
 673  results(iter,'gamma') = gamma ;
 674  results(iter,'lambda') = lambda ;
 675  results(iter,'gap') = (((-lowerbound)+upperbound)/(-lowerbound))    ; //gap is same as computed by GAMS
****                                                                        $767,409
**** LINE     42 INCLUDE     /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/LR_updates.gms
**** LINE     94 INPUT       /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/main_for_lr1.gms
 676      if( ((results(iter,'gap') < exit_tol) and (num_iter > 2)),convergence=2; contin = 0;);
****                        $149
**** LINE     95 INPUT       /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/main_for_lr1.gms
 677      lr_time = lr_time + results(iter,'time')   ;
****                                      $149
**** LINE     96 INPUT       /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/main_for_lr1.gms
 678      if (lr_time > 2400, contin = 0 ; ) ;
 679      d=results(iter,'gap');
****                    $149
**** LINE     98 INPUT       /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/main_for_lr1.gms
 680      FinalIter=num_iter;
 681  );
****  $408
**** LINE    100 INPUT       /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/main_for_lr1.gms
 682   
 683  *run_time_total = LP_time + lr_time + bound_time  ;
 684   
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     01/03/22 15:14:56 Page 16
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 685  * check if any p and q active simultaneously (nothing to do with Lagrangian)
 686  *parameter check(scen,t);
 687   
 688  scalar ObjLR;
 689  scalar heuristic;
 690  ObjLR=-lowerbound;
 691  heuristic=-upperbound;
 692   
 693  display results, lowerbound, upperbound, LP_bound, run_time_total, lr_time, num_iter ;
 694  display z.l, y.l ;
 695  display zlower, ObjLR, heuristic;
 696   
 697   
 698  put TestingFile3;
 699  put n, put tol, put steprule, put FinalIter, put convergence, put d, put GapNaive, put zlower, put ObjLR, put ((ObjLR-max(heuristic,zlower))/ObjLR), put TimeNaive, put lr_time, put lambda, put heuristic put /;

**** LIST OF STRAY NAMES - CHECK DECLARATIONS FOR SPURIOUS COMMAS
**** STRAY NAME start_cost OF TYPE PARAM
**** STRAY NAME max_charge OF TYPE PARAM
**** STRAY NAME max_discharge OF TYPE PARAM
**** STRAY NAME init_bound OF TYPE PARAM
**** STRAY NAME t1 OF TYPE PARAM
**** STRAY NAME t2 OF TYPE PARAM
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     01/03/22 15:14:56 Page 17
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Error Messages


116  Label is unknown
140  Unknown symbol
141  Symbol declared but no values have been assigned. Check for missing
        data definition, assignment, data loading or implicit assignment
        via a solve statement.
        A wild shot: You may have spurious commas in the explanatory
        text of a declaration. Check symbol reference list.
149  Uncontrolled set entered as constant
257  Solve statement not checked because of previous errors
408  Too many ),] or }
409  Unrecognizable item - skip to find a new statement
       looking for a ';' or a key word to get started again
767  Unexpected symbol will terminate the loop - symbol replaced by )

**** 11 ERROR(S)   0 WARNING(S)
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     01/03/22 15:14:56 Page 18
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/main_for_lr1.gms
     2       13 INCLUDE        1      13  ./home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/input.gms
     3       27 INCLUDE        2      14  ../home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/wind_costs.csv
     4       62 INCLUDE        2      24  ../home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/wind_scenarios.csv
     5      193 INCLUDE        2      54  ../home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/sampled_dynamic_hi.csv
     6      292 INCLUDE        1      14  ./home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/subgradient_parameters.gms
     7      328 INCLUDE        1      15  ./home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/equations.gms
     8      452 INCLUDE        1      16  ./home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/lp_lowerbound.gms
     9      465 INCLUDE        1      17  ./home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/heuristic_upperbound.gms
    10      541 CALL           1      35  csv2gdx Naive.csv id=nv index=1 values=2..lastCol useHeader=y
    11      542 GDXIN          1      36  /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/Naive.gdx
    12      594 INCLUDE        1      88  ./home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/plain_lr.gms
    13      612 INCLUDE        1      94  ./home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/LR_updates.gms
    14      629 INCLUDE       13      17  ../home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/stepsizes.gms


COMPILATION TIME     =        0.174 SECONDS      3 MB  24.8.5 r61358 LEX-LEG


USER: Small MUD - 5 User License                     S160825:0507AO-LNX
      Universitaet Erlangen-Nuernberg, Lehrstuhl f. WirtschaftsmaDC7699
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/main_for_lr1.gms
Output     /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario12/main_for_lr1.lst

**** USER ERROR(S) ENCOUNTERED
