GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      01/03/22 15:15:21 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


      This is Step 5 of Algorithm 1 of file v10.pdf (iEEE paper)
      The 1500 scenario fixed problem
      Follow up of SAA.gms
       
   7   
   8  OPTIONS PROFILE =3, RESLIM   = 2100, LIMROW   = 5, LP = CPLEX, MIP = gurobi, RMIP=gurobi, NLP = CONOPT, MINLP = DICOPT, MIQCP = CPLEX, SOLPRINT = OFF, decimals = 8, optcr=0.01, optca=0.01, threads =8, integer4=0;
   9   
  10  ********************************************************************************
  11  *-------------------------------------------------------------------------------
  12   
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/input.gms
  14  ** sets later to be defined in input file
  15   
  16  ** to be changed
  17  SETS T times/t1*t24/;
  18  SETS W scenarios /scen1*scen1500/;
  19   
  20  ALIAS (T,TT);
  21  ALIAS (W,I);
  22  ALIAS (W,SCEN);
  23   
  24  ** define generator costs and wind selling prices
  25  TABLE PRICES(T,*)
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/wind_costs.csv
  28  ,REW,GEN
  29  t1,21.86631793,50
  30  t2,22.68762551,50
  31  t3,22.63231186,50
  32  t4,23.53977501,50
  33  t5,24.15305477,50
  34  t6,25.0022415,50
  35  t7,26.14884331,50
  36  t8,28.48265662,50
  37  t9,35.32421651,50
  38  t10,53.07988113,50
  39  t11,67.07745747,50
  40  t12,43.78264533,50
  41  t13,33.25218533,50
  42  t14,28.68827035,50
  43  t15,26.76175663,50
  44  t16,23.97472252,50
  45  t17,21.05077606,50
  46  t18,18.8721276,50
  47  t19,17.16537812,50
  48  t20,15.4798614,50
  49  t21,14.81514842,50
  50  t22,14.64047737,50
  51  t23,15.10197375,50
  52  t24,17.32390701,50
  54  ;
  55   
  56  Prices(t,'rew')     =  - Prices(t,'rew');
  57  Prices(t,'gen')    =  - Prices(t,'gen');
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      01/03/22 15:15:21 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


  58   
  59  ** define wind realizations at all time periods
  60  TABLE WIND(W,T)
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/wind_scenarios.csv
  63  ,t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16,t17,t18,t19,t20,t21,t22,t23,t24
  64  scen1,21.92258353,26.6621598,32.15477326,6.76604169,10.03464418,3.999212344,2.320969798,8.790472392,31.98592139,31.74095392,38.63044438,38.843194,12.682247,4.698319759,3.000629392,57.22286832,70.22573765,66.38789375,25.35445415,30.52116983,23.192109
      64,22.93781652,17.62990364,18.16608869
  65  scen2,43.60604303,38.84035814,28.81721378,11.75146558,13.10832885,13.00072575,2.897469553,14.0408505,15.47866806,16.27200798,6.52505544,4.939722709,4.292806116,4.451264608,10.55535267,40.01264932,45.61427887,48.01883098,33.95076125,27.63898789,25.24
      065659,39.12601539,34.76926463,23.08944844
  66  scen3,46.7843101,62.84664159,58.0635321,3.130261539,3.063170575,10.04023289,2.679788368,7.314456768,20.64079319,11.71369516,1.687291787,6.360555951,9.669794767,8.611066863,31.60088554,26.88718655,38.81543318,47.18865461,36.88543443,29.68316645,28.97
      073413,21.88050157,36.19238166,33.58994512
  67  scen4,31.25031079,26.20780293,19.82153711,7.902851255,33.1645986,41.3198654,8.446046972,2.597805452,15.22309965,7.965845713,18.94035635,32.21591981,12.57377146,11.40757737,7.671609734,33.96512258,33.81141756,31.5872294,24.2344289,16.7960203,8.729237
      402,26.45981192,36.89830842,32.17562737
  68  scen5,48.88980136,55.05479736,56.42357119,9.434915774,9.37569637,16.95745988,11.4879177,19.77703959,34.50973967,17.44613708,11.00077606,11.49707584,12.42098067,11.31841681,12.95779276,44.77516976,45.41332051,37.89059791,34.27657793,29.89065618,26.24
      962272,32.10739772,37.66847167,43.62399232
  69  scen6,33.54504873,27.63796228,27.40717382,16.97029538,24.07138417,34.08543882,23.76067736,29.52448709,10.99625272,2.15208372,0.589412656,11.06428384,13.18782005,13.23581224,39.44203319,51.0771236,52.19941404,56.44315616,18.98017272,21.74806341,23.30
      545521,22.05145071,24.83966703,42.07210367
  70  scen7,30.77001447,45.47254132,28.56251295,2.411973858,1.843281596,4.078776503,17.07590574,24.21189689,20.32592199,16.5799433,14.86328426,14.32210855,5.63354878,7.093552156,1.03734177,40.14899529,29.19229732,25.37655492,24.65855332,31.98911801,30.402
      83655,17.20916641,7.383012768,5.889958689
  71  scen8,40.82989994,35.87736266,24.89835952,4.496902734,4.896505216,0.701500201,21.51513865,24.84537654,12.53191067,1.244390543,1.628494644,8.034263009,15.52225049,4.868031098,3.45061634,25.9295356,44.33776558,49.0366636,25.22012352,4.427333046,8.6787
      96106,24.08666384,17.53849411,16.56126757
  72  scen9,45.39738282,54.81880828,50.34811781,8.877327264,6.723649058,27.2517274,2.883248395,4.810830103,1.912947797,9.798890539,5.520332498,5.425595841,10.93705409,9.457659881,7.739297021,40.15802302,27.16587645,30.0247896,33.13515889,28.53903573,18.77
      212316,19.25675571,26.20911621,26.88048803
  73  scen10,43.50683858,40.14394088,36.53982981,15.92581655,39.54394608,34.44769751,13.33998284,20.20793145,11.91753449,23.65737788,20.81926359,31.68172897,0.547933463,0.19523297,15.11127594,39.01847978,38.51492562,46.42875547,49.9343333,38.41978668,38.8
      5441256,20.94676584,21.11539262,34.21602585
  74  scen11,41.90671166,50.94372974,46.57184803,0.56133544,3.629608526,9.168937855,26.11209574,39.36183493,36.59697424,12.48239315,16.60940728,14.15833908,13.65558281,0.276783148,0.053246484,38.5998808,35.67333323,32.0806175,37.10058072,49.33445082,65.18
      059115,34.73187521,31.21639269,27.27146276
  75  scen12,44.76293355,55.66978734,62.61184696,7.486685128,1.726525158,13.90859805,3.91270571,7.445104905,24.38646026,20.88943316,21.6296145,26.41679028,4.408784177,2.800811111,12.70457921,32.97149883,33.44085179,23.98777374,22.4418493,36.29218217,55.72
      947496,25.14783653,45.52069548,52.22458782
  76  scen13,35.99345244,33.36396073,45.44057904,1.511917401,0.327197294,13.05526311,16.75557599,17.39185195,6.07500043,9.481293081,11.35284531,12.87809296,18.44038101,22.60804905,27.49641786,31.37531518,16.96512055,18.96865644,14.98413913,5.73391844,1.08
      7652743,34.21542475,30.14756743,19.14198391
  77  scen14,45.6842043,42.88068137,50.99444595,3.341915171,12.41653627,1.908435428,22.59141048,25.82177354,8.219965092,2.230513398,0.43134557,3.801175899,0.276621008,6.119449263,2.743854798,34.43585015,41.9877846,55.67764532,23.68285951,30.57924453,37.41
      773628,12.9894051,4.828865944,12.56171166
  78  scen15,45.06137361,39.94298553,41.73691149,6.872692503,10.24743868,8.81821501,0.101648225,2.016291025,7.152709007,13.8368517,15.0042762,20.45210902,2.109542783,6.529828645,6.901217883,27.67158108,26.17391853,20.46393914,45.8255063,53.14082351,43.076
      39356,25.28447411,20.73889874,8.350709189
  79  scen16,23.84475143,19.00808122,30.07948535,5.567826134,8.96531124,11.07489271,14.954024,3.955664604,0.472870418,9.366189988,13.32195425,7.061166474,12.35604918,11.99753927,5.750794106,39.27168973,37.78727839,41.61104309,36.3721528,40.62602728,45.263
      80952,14.14593214,10.533965,8.23910372
  80  scen17,33.38242611,27.69129021,38.49085318,6.83009461,5.406000796,6.554064483,1.395194496,4.273805919,13.68721544,29.55249734,28.23373592,35.93107396,31.28547664,34.04359244,20.34784554,33.000587,46.58039545,62.39116105,20.73057261,27.72499773,13.80
      454719,26.10308513,31.58124743,23.65829008
  81  scen18,48.189954,30.74701783,31.87571411,2.792019721,17.26735543,14.7930167,5.595441295,16.8810522,21.62412603,0.876352823,14.88961966,31.8129513,0.704666405,11.30300566,25.19880043,46.43926594,54.8639591,53.84375448,44.25808818,53.3013704,36.445146
      6,14.81775924,23.71838338,57.10617425
  82  scen19,35.49690937,31.70439422,50.45878802,2.224404526,3.535333661,0.637020398,3.734875177,4.972756421,3.782066685,9.806561577,17.6331088,37.81477379,25.88209416,38.96064157,49.23736616,40.74219527,58.42385592,63.44055552,23.0804243,23.80307962,15.9
      2983619,29.35874802,35.48128083,38.81901254
  83  scen20,33.02376443,34.31432535,32.29536979,10.46465575,4.468947576,0.441501634,5.329879277,0.759877163,4.178686578,5.366221189,32.58916197,27.26351106,13.25301584,6.855970422,16.83659478,35.69370433,48.6529345,49.23121624,30.94633046,23.51023779,4.5
      53449675,34.30311477,24.29862565,14.21140608
  84  scen21,36.51437291,28.20162325,30.11157896,13.97780709,17.65295293,16.58122728,7.207457733,14.86284457,6.634234955,24.66134729,22.49224652,30.7735648,0.195657879,1.312156347,2.618430224,46.43776174,42.98384931,31.81862865,24.47945319,37.88904764,45.
      65669504,22.07838917,9.743434703,6.657571871
  85  scen22,48.03659594,42.58802217,35.79743061,4.596891102,7.618743245,3.129004258,2.074274629,14.23672805,21.30472863,15.26477941,24.32454945,34.03010125,15.91451203,20.05714986,11.60431565,41.93474472,40.60663353,31.50349824,31.1763207,21.19969863,20.
      34360681,27.83416238,36.9746407,50.93632777
  86  scen23,26.79736274,18.3791895,11.84085999,26.57311076,29.75754202,22.81257918,4.101992476,9.249883681,22.13347376,22.6208346,35.6711557,27.68130712,10.6415912,19.78550425,32.51278489,36.79917097,49.27772888,38.75916201,24.63728195,22.56924775,32.634
      40275,34.56770386,30.07935467,28.87174563
  87  scen24,46.60316643,46.8024537,35.9632277,2.655079333,4.823194226,17.68070135,15.0799528,22.32630071,23.985114,6.382408952,6.078597877,7.498187758,3.916584572,12.20643805,33.16839396,24.64082295,19.0324845,17.42373459,24.08505704,19.43068532,22.53443
      634,32.60004641,45.23171322,31.60090365
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      01/03/22 15:15:21 Page 3
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


  88  scen25,46.78903749,39.44919917,29.52878078,5.807351605,9.309091301,18.62207468,26.44797324,32.83342941,44.75641989,13.22309165,32.87459803,40.89067464,4.235772586,7.784758997,0.945759658,46.4483176,47.58457795,63.6550301,24.0828594,32.58561673,41.08
      881712,26.68357705,16.14048988,22.57611607
  89  scen26,43.96910728,32.04114618,16.65433537,23.11858248,29.81140968,26.97006528,4.777828849,11.03072782,12.21304295,21.49566022,24.88618879,14.20211657,11.45781393,0.218304541,2.734508325,32.26521554,27.54316378,29.09186822,51.07901353,65.64371397,56
      .03689136,10.13485262,13.23969648,13.98518964
  90  scen27,32.68209517,46.08910063,45.5398523,1.790161324,9.718688705,19.93929717,7.565962262,10.12139759,22.03158743,5.992700862,7.269756688,9.821022045,6.92199274,14.07270802,12.39919911,30.0752175,33.43158709,50.05779243,11.80117842,21.27024006,33.46
      612039,21.8695162,12.2306979,2.389459369
  91  scen28,28.03581232,20.29251506,13.02045665,5.387646273,2.531275267,4.175372539,13.53171369,26.70915867,16.5901755,14.377955,12.90727537,0.368510794,13.64493371,7.044217826,13.63541129,33.78638256,44.12095318,36.85169592,41.24816538,56.45309957,57.41
      747272,6.874869131,0.944774108,14.03965002
  92  scen29,47.86326608,53.91406592,68.50851208,2.412826935,4.857254457,13.23590539,14.91919035,16.79752394,18.26996322,4.821370313,11.48402226,12.11812821,11.05677491,3.659968783,4.196337773,43.87920294,39.42359907,32.53357991,26.7981576,12.26943935,4.1
      25534668,22.58522997,15.83849626,17.43307027
  93  scen30,42.99973912,31.62921949,34.05332287,4.181957253,3.965371928,8.472786943,19.47201012,29.47493585,36.79070933,5.994466516,22.60770356,29.13121416,5.258193707,2.59247952,13.91990635,34.64608685,29.78324053,45.62080206,36.65998136,41.0145755,52.1
      4595462,34.80315841,48.73436178,39.87048776
  94  scen31,40.19962166,58.99657717,42.54154307,0.293495273,2.335771801,7.453145666,11.48728233,12.78318264,3.935377471,7.682046092,12.0080712,10.32397353,18.83944802,17.07545567,7.438032639,22.44381069,29.81796747,18.92428182,41.35808381,43.03003154,49.
      37885642,30.83672741,39.75514467,57.00124481
  95  scen32,40.7707605,40.53364031,51.19269814,5.642438715,10.20943609,17.88191174,6.723940861,1.957375128,12.3056646,2.038826573,5.082016334,2.607286971,4.631479485,15.23464259,33.67151771,30.76302809,46.79608616,36.8280181,17.04215178,8.677774714,7.210
      256136,49.82251956,55.82080539,65.12516298
  96  scen33,42.97713558,54.32095371,49.98460661,2.873151518,2.791823896,19.05317595,16.70208752,13.38090559,7.643105242,6.486977732,3.337888825,9.845085618,14.47221296,27.13538818,27.01647197,25.65564803,33.52067638,54.9516556,38.5014392,41.40863842,43.7
      2225965,24.35627045,36.99149564,26.72622333
  97  scen34,42.56829544,50.02107589,34.97515946,15.65662597,12.21482563,6.552486595,18.94190433,10.42412206,6.839659552,11.64002167,21.09373842,21.52471378,2.770245992,0.660062864,4.542227402,30.85098626,16.92535334,24.49482881,28.82552,25.37766695,21.47
      628612,33.10943763,25.28729106,25.79157285
  98  scen35,50.64972121,51.79108741,55.31801936,3.157372443,10.00950071,21.04760578,4.870084369,17.95887294,6.440247637,11.17939379,2.457494472,5.845666695,6.608507188,18.11339945,10.10484809,21.32840124,18.59072579,21.73898742,21.28274079,7.66763908,1.5
      27228894,27.28852358,11.18953681,16.44941185
  99  scen36,45.45439839,48.92196411,60.16509519,19.56390871,27.74849651,44.74459481,7.123713023,15.44020856,8.613814628,14.89542722,30.93671503,44.17855659,11.26843939,14.59392186,24.50185296,36.95203464,40.38735886,41.01637572,30.99170131,23.11183675,23
      .95530247,17.11801314,20.34048545,14.8390433
 100  scen37,39.86237855,33.3452546,34.59922979,0.769007937,12.99213488,0.689856413,4.545597321,8.713034792,21.46434087,18.25984087,7.833071731,4.94496925,15.49660744,31.31440772,31.10142803,30.1413907,30.15904853,41.27162281,30.40693506,20.87906675,16.85
      781554,26.53543147,27.58489222,31.97736719
 101  scen38,48.53076409,50.51948359,53.18905787,7.935303518,22.97311965,6.408534434,8.613939238,17.12606181,17.4123367,0.342351321,7.774396847,5.611061421,8.861299137,22.58861418,23.42319131,24.90078766,18.24623148,24.39724145,34.29587579,26.01946664,20.
      58903455,20.68898509,20.89366592,20.71064041
 102  scen39,57.45067101,68.05961133,59.35452595,10.09276763,22.34057705,19.56257135,1.119297322,6.93039318,4.167293982,11.39407904,10.21763117,19.94647159,11.82109908,1.83119669,2.401037436,27.84259576,9.722253889,14.72395434,35.22599526,34.54533827,37.5
      0960523,17.26737029,7.274948322,4.993271419
 103  scen40,41.46361056,36.03904369,32.98890343,20.06137055,23.72822688,34.38709845,21.7607135,7.975550768,2.342226926,10.25403052,20.46170739,22.62542116,20.69651672,32.56312007,24.28509913,45.84413245,59.34992839,73.86596138,28.33270695,29.79021837,25.
      73431603,20.37089837,26.74616911,18.66203323
 104  scen41,48.62305101,43.98756259,40.72490129,4.963066128,4.969660697,4.325588717,1.579969742,0.739822305,22.81888782,20.48640171,29.4591022,23.81435937,20.58071286,27.87627281,22.11595239,21.87523165,30.20861807,45.24349998,38.57735598,30.15990286,24.
      82057633,24.2821674,29.23754216,43.64109654
 105  scen42,28.40475329,24.14675191,22.007716,19.23576571,26.72354159,13.52921926,6.504654938,26.41767783,25.27022021,17.83422887,21.08643083,16.97637451,3.010675228,1.836909586,2.52271632,38.21851772,45.82639079,48.67279544,34.29404204,19.66556729,33.23
      307855,51.93136868,43.51886427,44.19570222
 106  scen43,50.18356564,58.72539644,65.43124346,4.859181123,5.367499815,3.727608758,23.06872339,35.81735373,52.32356328,1.223943612,10.35058852,7.783256902,10.76603469,21.11986892,44.95948027,35.13580571,31.5559237,17.55953315,43.68844829,35.36614387,10.
      5385172,21.09007981,20.26625987,20.6569572
 107  scen44,33.49430099,22.44907726,13.38422175,1.075092358,4.100817494,10.20567249,13.95654559,14.76200887,16.57012387,8.801240045,15.06003756,23.15650262,23.5278819,23.33283009,19.27978704,21.88935867,7.125535639,19.35746291,45.14390192,53.20881167,45.
      42159045,19.50653081,30.61574186,35.40367662
 108  scen45,35.73631527,24.40166744,19.41162097,4.813480931,0.230051612,21.1967706,6.692833849,3.273774776,0.452513669,0.951721674,16.79120637,33.5497078,10.1084999,6.683424702,15.1127419,33.88289997,39.45223823,30.41801819,26.53278142,34.16955907,23.583
      27236,19.19620264,17.60502963,32.29847983
 109  scen46,45.66284934,43.2750675,37.31481416,17.63512615,5.478038546,12.55347477,6.065254078,3.548246399,11.78441618,18.45826987,22.65274205,3.290315018,8.791401079,16.16770664,9.521849946,24.49746897,14.54888958,10.32798422,28.61287611,14.34196966,32.
      22571701,26.21872334,46.32206381,47.55970563
 110  scen47,35.05360968,31.25511155,34.69440976,5.371458328,5.282618933,0.118677767,13.97396352,18.75801612,21.51998236,8.772459817,7.349017558,9.395790229,22.27864085,25.23329677,33.96931774,41.61947454,40.39852622,42.83113531,41.70526041,46.72834387,43
      .81720501,37.38895742,40.24986336,33.00281247
 111  scen48,17.82264725,20.60560737,35.28982595,4.0544034,5.111151349,16.68003102,18.98682884,23.84959121,24.04335157,6.863746394,0.443122125,1.270960648,17.15723282,21.26786979,31.0041488,38.85267689,51.67755072,54.38735587,51.01009762,49.67575819,63.09
      894812,14.94559191,11.19139393,16.14489113
 112  scen49,19.71251298,26.55669803,46.68697456,0.350146698,4.308631756,2.386661973,17.18830605,11.2703355,15.50218852,2.070734328,6.780956633,4.005597718,2.097402972,14.0702085,25.03900778,32.35570947,41.36032288,37.05858177,43.9149344,36.80375757,35.96
      214321,2.368416504,13.42233994,4.000070455
 113  scen50,25.54585632,12.46246937,31.85224391,0.290995003,3.418946561,6.398064449,27.0879219,27.00146464,21.68136417,2.76796051,7.376051575,8.965472774,8.522086315,5.531629631,10.06191389,23.8766239,19.00408122,20.6843434,31.29288902,34.0187103,35.0544
      5919,25.39929045,25.88253644,22.63553051
 114  scen51,44.32209801,26.03599853,12.32303898,4.468032568,6.12830475,12.68345478,0.402814262,2.202463731,20.39870262,13.34734046,22.27029947,9.669696826,2.442686271,0.014530674,14.68031966,28.43930634,31.04229811,45.38030563,33.35952667,20.13907355,6.3
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      01/03/22 15:15:21 Page 4
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


      86226834,35.91831701,43.65704783,31.57909228
 115  scen52,34.16964322,17.53652033,7.923531589,8.619311015,12.04102447,2.358094178,8.460060261,20.52964951,24.8755266,16.21450895,7.421242725,1.262260845,6.067426792,14.9726627,16.66537099,28.65066502,21.28279287,23.91821599,46.9484279,35.97794107,22.00
      747668,2.758541522,17.83223433,6.582873347
 116  scen53,35.78201427,23.02312921,39.81816606,9.520580908,2.085203217,11.66964144,9.491058909,1.002000091,11.75251199,13.76727642,16.33023334,7.536016208,17.22172561,9.084896194,14.02873577,36.85119017,29.58934934,25.13843397,20.38864006,14.9250933,14.
      65756923,33.72469062,27.43380909,14.8824807
 117  scen54,28.55672132,13.77893602,15.86752993,0.983531902,3.793325211,3.126278705,14.18589468,19.43502569,30.9677675,10.59430014,11.47997386,19.46846932,4.037247476,3.179661906,17.78499343,45.6088263,45.41838256,44.86947221,28.91091203,5.943132176,3.43
      2345542,38.39008799,38.66524167,52.53099422
 118  scen55,57.27160208,58.68150942,50.94144322,10.53898786,14.00638403,4.06255893,17.349198,7.89481026,2.207231275,20.2090436,16.26336473,11.86681311,18.4169402,20.14682183,16.57988638,40.86900519,29.34967191,10.4301132,23.60377078,14.46384193,34.033463
      92,27.92555304,29.35648116,39.32025072
 119  scen56,36.66121202,31.67833993,44.33185059,12.23250923,24.22733992,24.977454,11.00720071,15.1511281,31.30979938,7.090467431,9.665805861,16.26738495,4.749620113,10.43049755,24.78968192,29.16615087,46.68057451,35.33076631,44.88366999,33.92832669,19.52
      763108,7.180413666,7.864906548,0.872952748
 120  scen57,31.17075539,44.94182398,32.44960849,5.862571363,12.08865388,6.470520213,6.185397519,0.543752089,14.37050734,8.685910088,3.622792012,3.59950881,1.705025123,5.010576392,8.037914229,15.1876009,17.05023152,8.954434469,19.14565157,0.152351073,11.7
      7004491,26.42625683,31.05007841,30.23555194
 121  scen58,41.52479593,48.49149649,44.320315,5.016720209,9.184354364,8.507206084,9.832907671,13.16860933,17.33003371,0.678334651,17.58628342,17.49426959,1.345395003,2.330067994,17.89263218,26.33928149,17.6411,5.859933712,26.23491353,16.76676362,20.00924
      448,31.71746085,47.3773475,52.52907779
 122  scen59,23.73157185,20.47875647,12.17151499,4.529654443,18.28815571,3.763101403,27.91286687,19.66724998,20.66494219,10.79448034,1.786866149,9.767267968,12.21942838,21.63061817,22.59333284,36.92185715,37.22687137,58.2099659,31.88960092,32.3195445,29.0
      1267122,34.31919666,42.91079827,37.20056493
 123  scen60,33.93533481,20.49338542,29.39385681,10.24293639,13.71706471,29.87756098,1.93328621,9.5964617,16.98643015,7.410519593,11.55569203,0.261773514,7.56888065,18.22318652,33.43386067,23.17746192,30.73222251,38.54316779,34.51182733,31.88766379,21.053
      3012,33.12413327,29.17446654,31.27888215
 124  scen61,39.97426973,41.04850187,59.66778047,23.22928948,39.06258703,33.9159574,19.31288537,30.03249628,43.90116227,1.070658477,5.690938407,11.66086882,2.714628908,11.86339915,18.3987169,33.44314375,31.58121828,40.77636673,27.44255481,48.14191096,44.5
      7443966,33.36057819,58.25379799,54.67229345
 125  scen62,59.32745699,65.2775706,70.59649657,14.50883922,2.994618686,8.760199976,8.542506558,9.297700089,10.63828861,14.24216395,14.84480815,9.737806182,7.839138774,3.791723831,6.729094502,47.80964692,47.65566953,43.0258646,21.4219539,18.13413197,12.18
      073393,37.17244358,33.94656986,21.66873733
 126  scen63,41.91612725,46.09074289,60.50098442,6.107957596,12.34688145,19.04598408,9.44846375,14.73875686,25.78752799,11.46903802,3.148677077,5.449297036,8.436657822,18.46774228,7.421606158,49.29556762,59.17062757,51.63843107,28.08204259,18.86551654,4.6
      77251565,14.58140088,17.29441713,10.05854263
 127  scen64,42.05905895,38.36011083,52.16438156,12.83032207,8.28374767,9.671153953,4.27654176,8.057794958,11.20437035,28.88523584,42.00335085,47.12313737,2.773717861,4.168169102,7.940398063,35.20258125,49.66027987,59.35170135,28.13483627,34.45667062,50.6
      4689087,36.28827012,52.7849178,60.46612013
 128  scen65,46.58113138,37.42756324,41.42201391,9.025362814,8.265153443,4.435014582,15.74075422,25.60365238,30.39845537,13.86767846,18.54906198,22.30434241,4.603608019,1.981641997,8.161085491,50.69878083,61.67825504,65.2510215,19.78029077,23.92081979,18.
      00100811,9.150058874,22.04884926,22.1768897
 129  scen66,49.11891263,65.34432168,61.30789477,12.79526537,19.46151769,31.26457808,8.682124436,19.43221844,17.77799299,13.87830343,27.11160632,38.3017554,9.692682931,13.45921461,11.8130651,39.03299852,41.05721881,36.48003492,18.2921599,7.004134324,5.077
      401092,26.75088746,17.43631925,12.49775643
 130  scen67,33.80669201,27.04451842,34.95601081,8.424283974,6.049550408,20.78857806,0.177304292,4.1699683,2.884397263,7.129281165,14.69125532,17.91488171,10.08319205,2.939776655,21.52114365,40.38538606,46.45921695,29.05502608,33.28418851,32.38303825,32.1
      8256786,29.40945922,28.64964402,28.11346638
 131  scen68,42.48175104,42.84522414,45.24631716,7.31887402,16.63746313,44.31345727,7.172108358,13.7573805,14.60263713,1.775893782,9.382220961,1.979598284,5.08174856,22.49999045,22.61464658,38.90402763,39.8136313,59.50329735,38.05429655,27.61385399,25.392
      20407,36.88365959,31.44183501,20.17682648
 132  scen69,22.53585493,26.09100035,17.21896058,22.68171355,29.00284043,26.18159312,10.04387865,15.27173254,40.9787365,2.688736802,14.58303758,15.50532663,5.711709298,16.14420594,16.03788789,28.70015382,23.42562883,42.67233865,36.49066821,33.61082258,19.
      11342859,16.72062653,14.28586398,10.0872707
 133  scen70,43.62585459,44.00275869,37.63427618,8.42335614,19.8524317,26.87432932,8.923852584,0.721981674,7.664544402,12.13372339,9.476235141,7.225026608,4.617631425,11.98530523,21.05757905,35.39896107,29.13177258,17.3954591,31.30054081,28.10003424,22.99
      230896,28.00006996,27.18241415,33.5387006
 134  scen71,28.0050754,18.21401463,32.04196237,13.43239519,21.05987734,16.1352941,14.53342024,25.91240129,33.94118507,23.75490072,32.93697817,41.93481847,5.992727621,5.33943789,17.55661925,38.52664826,31.51802144,41.8379034,25.21164096,44.64290848,50.772
      00067,39.2119382,29.28630177,36.19165291
 135  scen72,37.43678315,52.48793138,43.36698099,14.78961977,13.56224285,4.0336676,14.11590571,26.59844304,34.73175279,12.51705114,4.144041997,6.905919138,0.609194127,5.379413318,10.92477525,45.01863754,38.42697602,33.05977804,15.17553485,19.17420653,34.1
      9560727,30.05907278,34.75583229,35.06688581
 136  scen73,41.01576607,13.63718818,11.79718642,20.12615311,27.23675048,39.34085809,14.23175196,13.18152265,14.43212046,18.11120525,18.97667834,20.74757685,4.225603319,5.962895001,0.101067966,8.495555348,4.515988206,0.656366845,21.49049375,8.391918046,4.
      074531936,33.57697536,39.22605913,41.80511883
 137  scen74,30.79152478,33.47239057,26.98814321,5.712813974,7.201409142,9.453211539,2.544885976,0.696919863,7.032152542,4.079224578,16.12425632,21.75328989,2.454507517,2.64490976,7.811184248,25.19114033,8.282404126,3.62266852,25.2623036,10.19481835,17.50
      519621,25.92300162,24.39461352,16.97531997
 138  scen75,51.42302709,67.40588793,73.45067756,13.33574714,2.143830883,1.570948675,9.101911059,5.092041295,12.24701776,11.89257397,4.593313185,2.974912036,13.61686337,0.667577557,12.298979,46.97397503,47.67879265,41.64684434,28.40936801,20.93704376,4.37
      1829943,20.44366899,15.61312981,11.1666008
 139  scen76,34.00035411,31.30959396,21.44228578,7.863612501,13.17434912,16.62271842,14.81973826,2.016343967,5.20619972,6.279610241,12.27287338,6.335402215,8.538071677,11.58770754,8.712427809,39.83114628,25.94938059,24.52503922,33.66532737,37.31223924,33.
      66651598,36.02212765,34.68156701,29.69428213
 140  scen77,32.86859969,30.20247192,17.8227288,2.530796042,6.999746944,16.4839037,16.86886127,19.8863524,20.68877314,1.142906587,9.665235203,11.3945976,17.23332839,22.1818438,4.074421025,35.61077842,33.16898162,18.46466668,33.44776099,51.93241489,56.2607
      4293,32.11940796,11.90677525,13.45708681
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      01/03/22 15:15:21 Page 5
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 141  scen78,45.60501994,40.03298398,40.08630268,6.231914598,12.12250993,31.54008874,15.45780425,23.86785627,15.7705485,16.07807036,32.52742634,37.52861844,19.95658312,29.75132144,31.56511242,38.57374375,30.25930547,29.35319238,39.25880897,34.46916084,9.2
      87976893,36.81276987,27.47544407,22.68526228
 142  scen79,51.83108891,76.88089013,70.24166235,13.10102915,17.04104051,24.91067468,6.511747548,16.95156888,25.6127339,6.11676169,11.56380342,29.60984482,1.060691444,12.59949664,4.576476437,44.99678245,48.05390877,32.1318027,34.61163437,33.3865483,34.999
      22923,21.82049612,12.68647333,23.21969144
 143  scen80,40.73707883,56.17583028,70.66367046,0.037542743,0.405212821,8.534411568,24.23924292,26.90334649,20.46597396,22.42973303,22.02987723,21.25196302,1.787459985,8.341538879,5.929520401,24.3035949,32.15819726,32.66633036,17.68127642,0.051122343,7.1
      83150943,26.76354562,28.73235253,19.36201727
 144  scen81,28.7787071,26.24622167,31.64669267,22.61797089,0.838142631,9.141814656,2.342616476,1.898364012,12.90727587,27.65339253,22.88555655,17.21410784,9.603316677,20.93952934,0.967192625,37.48926815,21.61928488,9.234017121,38.85372803,51.7225721,42.0
      6128327,36.39888864,40.57401372,43.29787046
 145  scen82,49.14047223,47.65501513,42.4646316,25.53966241,45.38580035,56.56932377,4.092461366,12.07385789,27.07755611,5.939809751,11.96039436,10.86506009,6.432821958,8.520790689,7.652522642,15.20743708,4.896757935,17.48537744,20.76404317,24.81174611,38.
      10662886,15.87861802,10.58809388,4.998045357
 146  scen83,31.67939127,21.96800147,17.46923602,0.138482612,8.038288385,18.20872295,14.34614865,33.31888968,36.45495104,12.56744314,24.61251217,28.86051827,15.20572604,32.7930559,28.15989965,34.77743003,27.5325428,19.29100816,26.60860346,34.38880075,39.0
      2459642,31.73478075,38.68773319,39.70877963
 147  scen84,19.32216077,30.57780177,14.74961096,3.853473932,1.757688171,3.345830146,19.58389194,45.99203157,46.84927765,4.426832004,10.75730261,13.72806709,23.05019431,40.08083896,45.2046063,34.42823829,29.93135346,26.8012125,24.01739081,29.97076497,24.4
      3702263,30.83640143,34.42371487,35.94058304
 148  scen85,29.35048612,11.61451728,9.395395219,11.71363928,22.44181862,9.269653992,19.64439744,13.69673889,0.410231828,10.36527361,16.72780026,19.96379133,9.224718038,14.93603359,11.89184421,45.74247627,45.61457778,48.19811778,37.31063807,17.93399554,10
      .62240918,41.325322,52.40371181,31.83655961
 149  scen86,54.00027019,47.32692483,65.30449287,11.14257592,8.170900287,14.37058514,15.28809446,5.287689791,12.68411337,6.304311932,14.05884941,2.984751004,3.966625663,15.40289304,28.3468014,26.35047779,16.0337691,13.10279549,14.00792602,22.1787392,11.46
      916943,45.36550376,48.39328356,44.93255514
 150  scen87,59.0350432,57.31076532,57.23962108,20.69028889,15.00987886,32.51359038,18.714642,23.31341717,32.67325622,8.246855147,5.687981068,19.50000748,10.6267811,1.579237971,14.21125685,38.79581209,36.97124838,30.329387,36.89353187,37.10140366,26.25294
      92,38.95955513,42.28595021,34.9023526
 151  scen88,41.10793131,30.24108075,17.87365661,6.531805267,14.57841002,32.74977064,11.74700863,17.45431745,18.48901265,4.616328996,16.66004321,26.41895267,0.496017405,9.075615065,16.99479634,42.78537282,53.73412537,37.0758851,23.86740299,16.69406325,29.
      7179587,15.29037569,20.02302505,41.48486476
 152  scen89,39.91079009,27.58081446,28.33589248,22.7244907,24.60770476,33.5192974,25.43142809,36.16220175,57.81347645,1.885227272,7.556210168,7.579882172,9.365902998,20.20742007,23.1426273,26.62298644,26.78104042,23.64911078,22.65507102,16.79876712,36.39
      426242,10.32240151,8.537063677,20.59696903
 153  scen90,21.70599636,25.26623114,34.46436044,0.89168193,11.14831019,19.46206876,23.36138777,22.32693558,27.69586702,4.384108341,2.671751451,2.072101338,7.699182464,0.607965052,16.98745715,36.52288139,31.98160872,41.88314013,18.00749376,26.47819252,36.
      74153591,13.18737235,21.95471191,23.55625414
 154  scen91,21.54648413,17.52507604,5.60777103,8.007037796,26.07141346,23.11430434,11.10986862,11.00255255,18.01962659,11.70407834,7.95739484,1.696559573,3.554724236,2.270318071,6.700949627,33.96739178,36.84629356,41.18843617,22.84776249,40.00703687,36.5
      2511484,33.27676682,28.74676369,21.89350305
 155  scen92,46.30302699,42.11578063,45.27059707,10.37078125,9.803885332,12.56385359,17.81776404,17.69793493,18.30426999,6.950680261,7.954397817,6.623689829,5.214531435,34.31082493,40.85817635,31.80349022,36.6613531,26.22312582,18.9334995,26.85586945,32.8
      8473148,21.08192214,25.1511336,24.59227798
 156  scen93,36.58442981,33.10591633,46.26664747,2.173893726,9.251802211,9.081331127,21.00161726,5.216991843,10.24339919,24.37625394,35.11059596,33.941775,12.98183583,24.85853757,8.162537405,28.64947659,10.45326735,17.32896306,22.07829965,38.22827871,36.5
      6741777,15.81072987,13.12960273,16.571608
 157  scen94,31.42437344,28.59131336,30.78816997,7.801338199,3.352577947,4.736136066,24.79230636,20.77114417,12.50711253,38.93705571,56.62817092,68.8685679,22.33528573,38.43112439,30.48746683,27.05466344,24.18030485,23.0094932,42.30374689,38.73281794,30.0
      4586195,24.40246508,28.75253242,39.89042773
 158  scen95,33.93503434,23.31121241,18.85415271,4.64799343,2.996421664,17.28309011,8.923380377,11.06031693,11.89547849,1.496644446,11.75615825,0.38968723,13.83481889,22.39667301,25.96086178,22.13878028,39.50737825,50.62016445,29.01221469,13.79502858,21.2
      9021385,25.21737807,17.34335004,15.66381749
 159  scen96,34.41584623,31.03800119,20.72225156,15.56412041,33.89297853,34.82257,22.43823794,21.99970665,12.11785857,0.363478385,17.57584034,34.99854917,27.3696567,20.89670613,7.096929708,28.98918036,28.67564752,30.50049899,20.53571154,15.01662452,34.791
      7498,12.99365012,19.08992723,30.06156573
 160  scen97,37.80574369,28.6499166,27.57566555,12.53090103,21.39068034,22.93212292,20.83895814,32.37388046,22.26155108,1.392582402,1.658655693,4.464443352,1.742014559,15.95479561,24.05158106,24.45183018,24.56826467,2.959817429,42.3396612,33.54614254,33.5
      6793737,26.47419176,3.521964204,2.682159229
 161  scen98,28.38760177,33.98053669,25.80684656,25.24746528,20.00573824,29.19935138,19.69110762,28.63219256,12.35160736,0.640213169,30.16947949,45.43352194,10.2845284,11.60843418,15.9262595,33.04463293,48.13369362,40.05988659,36.75417391,26.80933542,34.1
      7623521,15.63601524,7.654680657,19.1803125
 162  scen99,41.04419024,45.516206,42.29219721,16.90963686,18.386472,23.71425751,21.87910784,28.30034092,44.68979161,7.754354174,6.166587608,9.645848585,6.862902958,1.445223704,0.673270908,48.70807879,39.21569796,51.35351878,34.56191385,31.38914929,23.750
      83729,18.10952113,38.28791173,38.38458629
 163  scen100,41.71771401,38.16382973,32.78171762,8.226202241,18.67536025,5.331176259,9.167369485,16.71867585,0.442094447,12.20231081,6.294145641,0.957887715,9.919262578,2.077808903,1.582685648,30.61311126,38.28980889,37.85516258,25.54772953,10.04783346,5
      .689015214,35.00919141,52.89148506,44.2034636
 164  *$INCLUDE wind_scenarios_1500.csv
 166  ;
 167   
 168  scalar PROBABILITY;
 169  PROBABILITY = 1/CARD(W);
 170  ;
 171   
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      01/03/22 15:15:21 Page 6
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 172   
 173  ** define tolerance threshold
 174  SCALAR TOL;
 175  TOL =0.05;
 176   
 177   
 178  Parameter last_z(scen);
 179   
 180  SCALAR G, GG, start_cost, ramp, uptime, downtime;
 181  G=130;
 182  GG=20;
 183  ramp=50;
 184  UPTIME =3;
 185  DOWNTIME=3;
 186   
 187  * maximum number of iterations in LR
 188  set iter number of subgradient iterations /iter1*iter10/;
 189  set iterFIX iterations for fixed /iter1*iter30/;
 190   
 191  TABLE y_100(t,iterFIX)
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/sampled_dynamic_hi.csv
 194  ,iter1,iter2,iter3,iter4,iter5,iter6,iter7,iter8,iter9,iter10,iter11,iter12,iter13,iter14,iter15,iter16,iter17,iter18,iter19,iter20,iter21,iter22,iter23,iter24,iter25,iter26,iter27,iter28,iter29,iter30
 195  t1,59.155,57.003,57.276,58.07,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 196  t2,31.042,31.262,31.493,36.825,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 197  t3,20.07,20.212,20.361,26.401,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 198  t4,2.036,0.311,0.313,0.31,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 199  t5,1.413,1.423,1.433,1.419,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 200  t6,2.468,2.485,4.462,4.418,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 201  t7,1.427,1.246,1.255,1.242,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 202  t8,9.126,7.436,7.491,7.416,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 203  t9,50.342,49.039,50.618,48.992,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 204  t10,84.689,84.228,86.519,86.934,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 205  t11,131.202,130.58,131.898,131.879,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 206  t12,84.327,83.717,85.067,85.018,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 207  t13,38.096,38.766,39.583,40.054,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 208  t14,7.384,7.658,7.715,7.638,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 209  t15,6.157,6.2,6.246,6.184,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 210  t16,21.786,27.61,22.102,21.882,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 211  t17,26.441,26.629,27.289,27.017,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 212  t18,20.082,20.224,16.432,16.268,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 213  t19,24.345,22.037,22.2,21.978,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 214  t20,23.16,13.065,16.982,16.812,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 215  t21,23.382,18.828,18.967,18.778,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 216  t22,20.132,18.735,18.581,18.039,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 217  t23,14.101,14.201,14.306,15.666,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 218  t24,12.036,13.942,14.045,14.677,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 220  ;
 221   
 222  * time limit for each problem
 223  scalar time_limit;
 224  *time_limit=%TIMELIM%;
 225  time_limit=2250;
 226   
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      01/03/22 15:15:21 Page 7
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


      * Import the SORTED file
      table scenario_sorted(scen,*)
      $ondelim
      $INCLUDE scenario_sorted_1500.csv 
      $offdelim
      ;
 235   
 236  scalar n;
 237  n=card(scen);
 238   
 239  *Scalar which tells if LR converges
 240  scalar convergence;
 241   
 242  ** define battery  operation costs costs and solar selling prices
 243  ** define solar scenarios at all time periods
 244   
 245   
 246  * Scaling of wind power scenarios ;
 247  scalar scale ;
 248  scale = 1;
 249  wind(scen,t) = scale* wind(scen,t) ;
 250  * Remove too many decimals in Solar
 251  wind(scen,t) = round(wind(scen,t),2) ;
 252   
 253   
 254  parameters max_store(t), min_store(t), max_charge, max_discharge;
 255   
 256   
 257  ** define tolerance threshold
 258  SCALAR threshold;
 259  threshold = floor(card(scen)*TOL)  ;
 260   
 261   
 262  parameter maxwind(t), minwind(t), dummywind(w,t) ;
 263  maxwind(t) =smax(w,wind(w,t)) ;
 264  dummywind(w,t) = wind(w,t) ;
 265   
 266  scalar it ;
 267  it = floor(card(w)*tol) + 1;
 268   
 269  * index of it
 270  set dummy(w);
 271  * make the dum_iter go till at least the size of it
 272  set dum_iter /dum_iter1*dum_iter100/;
 273  loop(t,
 274  loop(dum_iter$(ord(dum_iter)le it),
 275  * find the smallest wind value for this t
 276           minwind(t) = smin(w,dummywind(w,t)) ;
 277  * index of smallest wind value
 278           dummy(w) = yes$(dummywind(w,t) eq minwind(t)) ;
 279  * make the smallest wind value large
 280           dummywind(w,t)$dummy(w) =maxwind(t) ;
 281  ); );
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      01/03/22 15:15:21 Page 8
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 282  display minwind ;
 283   
 284   
 285   
 286  parameter BigMM(w), BigM(w,t);
 287  BigMM(w)= smax(t, wind(w,t));
 288  BigM(w,t)= G - wind(w,t) + minwind(t);
 289   
 290   
 291  scalar run_time_total, start_time, end_time, LP_time, bound_time, lr_time ;
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/subgradient_parameters.gms
 293  parameter lambda;
 294  parameter ldual value of Lagrangian dual ;
 295  parameter bound total value of Lagrangian dual ;
 296  scalar init_lambda, init_bound initial value of lambda dual LP objective from LP ;
 297  *Hier werden die maximalen Iterationen, also big M festgelegt
 298  *set iter                 number of subgradient iterations /iter1*iter3/;
 299  scalar num_iter          how many iterations we did ;
 300  scalar contin            stopping             /1/;
 301  parameter stepsize;
 302  scalar theta /2/;
 303  scalar originalTheta;
 304  originalTheta=theta;
 305  scalar noimprovement /0/;
 306  scalar upperbound ;
 307  parameter gamma           subgradient          ;
 308  parameter b;
 309  parameter norm;
 310  parameter norm2;
 311  scalar lowerbound;
 312  parameter lambdaprevious, deltalambda, results(iter,*), prev_w(scen,t), prev_y(t), prev_z(scen)  ;
 313  scalar profitFIXED;
 314  parameter  profit(iterFIX), yprevious(t), run_time(iterFIX);
 315   
 316   
 317  scalar m ;
 318  parameter   y_previous(scen,t), y_average_previous(t), weight_previous(scen,t);
 319  scalar profit_orig, t1, t2, exit_tol;
 320   
 321  scalar final_gap ;
 322   
 323  parameter lb(scen) ;
 324  parameter rho(t) ;
 325   
 326  scalar exit_tol ;
 327  exit_tol = 0.00001 ;
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/equations.gms
 329   
 330  POSITIVE VARIABLES X(W,T), Y(T), U(W,T), V(W,T);
 331  VARIABLES OBJ, BOUND_LR;
 332  BINARY VARIABLE Z(SCEN), R(W,T) ;
 333   
 334  scalar counter ;
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      01/03/22 15:15:21 Page 9
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 335   
 336  EQUATIONS
 337          Objective
 338          ObjectiveFIX
 339          Const1_1(scen,t)
 340          Const1_1FIX(scen,t)
 341          Const1_2
 342          Const1_2FIX
 343          Const_3_1(scen,t)
 344          Const_3_1_scenario(scen,t)
 345          Const_3_1FIX(scen,t)
 346          Const_3_2(scen,t)
 347          Const_3_2_scenario(scen,t)
 348          Const_3_2FIX(scen,t)
 349          Const_4_1(scen,t)
 350          Const_4_1_scenario(scen,t)
 351          Const_4_1FIX(scen,t)
 352          Const_4_2(scen,t)
 353          Const_4_2_scenario(scen,t)
 354          Const_4_2FIX(scen,t)
 355          Const_5(scen,t)
 356          Const_5_scenario(scen,t)
 357          Const_5FIX(scen,t)
 358          Const_6(scen,t)
 359          Const_6_scenario(scen,t)
 360          Const_6FIX(scen,t)
 361          LR
 362          Objective_scenario(scen)
 363          Const1_1_scenario(scen,t)
 364          ;
 365   
 366  ObjectiveFIX.. OBJ=E= SUM(T,PRICES(T, 'REW')*Y(T) - PROBABILITY*SUM(W, PRICES(T, 'GEN')*( X(W,T) + GG*R(w,t) ) )  )  ;
 367   
 368  Objective.. OBJ=E= SUM(T,PRICES(T, 'REW')*Y(T) - PROBABILITY*SUM(scen, PRICES(T, 'GEN')*( X(scen,T) + GG*R(scen,t) ) )  )  ;
 369   
 370  LR.. bound_lr =e=   SUM(T,PRICES(T, 'REW')*Y(T) - PROBABILITY*SUM(scen, PRICES(T, 'GEN')*( X(scen,T) + GG*R(scen,t) ) )  )
 371                           - lambda* (threshold - sum(scen, z(scen)))  ;
 372   
 373  Objective_scenario(scen)$(ord(scen) eq counter)..
 374           OBJ =E= SUM(TT,PRICES(tt, 'REW')*Y(TT) - PRICES(TT, 'GEN')*( X(scen,TT) + GG*R(scen,tt) ) )     ;
 375   
 376  *Const1_1(W,T).. Y(T)-X(W,T)-R(W,T)*GG -Z(W)*WIND(W,T) =L= (1-Z(W))*BigMM(w) ;
 377  Const1_1(scen,T).. Y(T)-X(scen,T)-R(scen,T)*GG -WIND(scen,T) =L= Z(scen)*BigM(scen,t) ;
 378   
 379  Const1_1FIX(W,T).. Y(T)-X(W,T)-R(W,T)*GG -WIND(W,T) =L= Z(W)*BigM(w,t) ;
 380   
 381  *Const1_1_scenario(scen,t)$(ord(t) lt card(t) and (ord(scen) eq counter))..
 382  Const1_1_scenario(scen,t)$(ord(scen) eq counter)..
 383   
 384           Y(T)-X(scen,T)-R(scen,T)*GG -WIND(scen,T) =L= 0 ;
 385   
 386  Const1_2..   -SUM(SCEN, Z(SCEN)) =G= -threshold;
 387  Const1_2FIX..  SUM(W,Z(W)) =L= threshold ;
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     01/03/22 15:15:21 Page 10
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 388   
 389  ****************************************************************************TODO Constraints (all but no. 1) in scenario form (z(w)=0)
 390   
 391  * The generator constraints
 392   
 393  *Ramp
 394  Const_3_1FIX(W,T)$( ord(t) le (card(t)-1)).. X(W,T+1) + GG*R(w,t+1)- X(W,T) - GG*R(w,t)  =L= ramp*(U(w,t+1) + R(w,t)) ;
 395  Const_3_1(scen,T)$( ord(t) le (card(t)-1)).. X(scen,T+1) + GG*R(scen,t+1)- X(scen,T) - GG*R(scen,t)  =L= ramp*(U(scen,t+1) + R(scen,t)) ;
 396  Const_3_1_scenario(scen,T)$( ord(t) le (card(t)-1) and (ord(scen) eq counter)).. X(scen,T+1) + GG*R(scen,t+1)- X(scen,T) - GG*R(scen,t)  =L= ramp*(U(scen,t+1) + R(scen,t)) ;
 397   
 398  Const_3_2(scen,T)$( ord(t) le (card(t)-1)).. X(scen,T) + GG*R(scen,t)- X(scen,T+1) -GG*R(scen,t+1)=L= ramp*(V(scen,t+1) + R(scen,t+1)) ;
 399  Const_3_2_scenario(scen,T)$( ord(t) le (card(t)-1) and (ord(scen) eq counter)).. X(scen,T) + GG*R(scen,t)- X(scen,T+1) -GG*R(scen,t+1)=L= ramp*(V(scen,t+1) + R(scen,t+1)) ;
 400  Const_3_2FIX(W,T)$( ord(t) le (card(t)-1)).. X(W,T) + GG*R(w,t)- X(W,T+1) -GG*R(w,t+1)=L= ramp*(V(w,t+1) + R(w,t+1)) ;
 401   
 402  *On/off
 403   
 404  Const_4_1(scen,T)$(ord(t) ge uptime)..   Sum(tt$((ORD(TT) le ORD(T)) and (ORD(TT) ge (ORD(T) - UPTIME +1))),U(scen,TT)) =L= R(scen,T) ;
 405  Const_4_1_scenario(scen,T)$(ord(t) ge uptime and (ord(scen) eq counter))..   Sum(tt$((ORD(TT) le ORD(T)) and (ORD(TT) ge (ORD(T) - UPTIME +1))),U(scen,TT)) =L= R(scen,T) ;
 406  Const_4_1FIX(W,T)$(ord(t) ge uptime)..   Sum(tt$((ORD(TT) le ORD(T)) and (ORD(TT) ge (ORD(T) - UPTIME +1))),U(W,TT)) =L= R(W,T) ;
 407   
 408  Const_4_2(scen,T)$(ord(t) ge downtime )..Sum(tt$((ORD(TT) le ORD(T)) and (ORD(TT) ge (ORD(T) - DOWNTIME +1))),V(scen,TT)) =L= 1-R(scen,T) ;
 409  Const_4_2_scenario(scen,T)$(ord(t) ge downtime and (ord(scen) eq counter))..Sum(tt$((ORD(TT) le ORD(T)) and (ORD(TT) ge (ORD(T) - DOWNTIME +1))),V(scen,TT)) =L= 1-R(scen,T) ;
 410  Const_4_2FIX(W,T)$(ord(t) ge downtime )..Sum(tt$((ORD(TT) le ORD(T)) and (ORD(TT) ge (ORD(T) - DOWNTIME +1))),V(W,TT)) =L= 1-R(W,T) ;
 411   
 412  Const_5(scen,T)$(ord(t) ge 2).. U(scen,T) - V(scen,T) =E= R(scen,T) - R(scen,T-1) ;
 413  Const_5_scenario(scen,T)$(ord(t) ge 2 and (ord(scen) eq counter)).. U(scen,T) - V(scen,T) =E= R(scen,T) - R(scen,T-1) ;
 414  Const_5FIX(W,T)$(ord(t) ge 2).. U(W,T) - V(W,T) =E= R(W,T) - R(W,T-1) ;
 415   
 416  *if uptime more than 1
 417  Const_6(scen,T)$( ord(t) le (card(t)-1))..   (G-GG)*R(scen,T)- (G-ramp)*U(scen,T) - (G-ramp)*V(scen,T+1) =G= X(scen,T);
 418  Const_6_scenario(scen,T)$( ord(t) le (card(t)-1) and (ord(scen) eq counter))..   (G-GG)*R(scen,T)- (G-ramp)*U(scen,T) - (G-ramp)*V(scen,T+1) =G= X(scen,T);
 419  Const_6FIX(W,T)$( ord(t) le (card(t)-1))..   (G-GG)*R(W,T)- (G-ramp)*U(W,T) - (G-ramp)*V(W,T+1) =G= X(W,T);
 420   
 421   
 422  *** bounds on any variables
 423  X.UP(scen,T) =  G-GG;
 424  U.UP(scen,T) = 1;
 425  V.UP(scen,T) =1;
 426  Z.UP(scen)=1;
 427   
 428  * initialize the on/off variables
 429  * assume the unit was on for last (uptime -1) periods
 430  r.fx(scen,t)$(ord(t) eq 1) =1;
 431  u.fx(scen,t)$(ord(t) eq 1) = 0;
 432  v.fx(scen,t)$(ord(t) eq 1) = 0 ;
 433  * assume the generator was producing minimim power in last time period
 434  x.up(scen,t)$(ord(t) eq 1)= ramp - GG;
 435   
 436   
 437  ******* ALL MODELS
 438   
 439  model schedule     / Objective,  Const1_1, Const1_2, Const_3_1, Const_3_2, Const_4_1, Const_4_2, Const_5, Const_6 /;
 440  model schedule_scenario     / Objective_scenario,  Const1_1_scenario, Const_3_1_scenario, Const_3_2_scenario, Const_4_1_scenario, Const_4_2_scenario, Const_5_scenario, Const_6_scenario / ;
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     01/03/22 15:15:21 Page 11
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 441  *model INITIAL               / / ;
 442  model Lagrangian      / LR,    Const1_1, Const_3_1, Const_3_2, Const_4_1, Const_4_2, Const_5, Const_6 /;
 443  MODEL  SCHEDULEFIX    /ObjectiveFIX,Const1_1FIX,Const1_2FIX, Const_3_1FIX, Const_3_2FIX, Const_4_1FIX, Const_4_2FIX, Const_5FIX, Const_6FIX/;
 444   
 445   
 446   
 447   
 448   
 449   
 450   
 451   
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/lp_lowerbound.gms
 453  start_time = jnow ;
 454  options optca=0 ;
 455  options optcr=0 ;
 456  solve schedule using RMIP minimizing OBJ ;
 457  end_time =jnow ;
 458  LP_time = ghour(end_time - start_time)*3600 + gminute(end_time - start_time)*60 + gsecond(end_time - start_time);
 459  init_lambda  = Const1_2.m ;
 460  lowerbound   = Obj.l ;
 461  scalar LP_bound ;
 462  lambda       = init_lambda ;
 463  display init_lambda, LP_time, lowerbound    ;
 464  LP_bound   = Obj.l ;
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/heuristic_upperbound.gms
 466  ********************************************************************************
 467  * Find a upperbound on the problem : a feasible solution
 468  ********************************************************************************
 469   
 470  *upperbound =  0;
 471  * Find a upper bound using a fixed value and solving MIP (a feasible solution)
 472  * solve single scenario problem and choose the worst #threshold problems
 473  start_time = jnow ;
 474  schedule_scenario.solvelink = 5 ;
 475  alias(rs,scen)
 476  parameter res_scenarios(rs,*) ;
 477   
 478  loop(rs,
 479  counter = ord(rs)  ;
 480  *Solving (2) for each scenario w with corresponding z(w) = 0
 481  solve schedule_scenario using MIP minimizing Obj ;
 482  res_scenarios(rs,'obj') =obj.l ;
 483   
 484   
 485  res_scenarios(rs,'scenario') = counter ;
 486  *=counter
 487   
 488   
 489  );
 490  end_time =jnow ;
 491  run_time_total = ghour(end_time - start_time)*3600 + gminute(end_time - start_time)*60 + gsecond(end_time - start_time);
 492   
 493   
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     01/03/22 15:15:21 Page 12
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 494  ** Write to a file to sort
 495  FILE scen_sorted /scen_sorted.csv/;
 496  *.PC specifies the format of the put file: 5 -> Formatted output; non-numeric output is quoted and each item is delimited with commas.
 497  scen_sorted.PC = 5;
 498  *.ND sets the number of decimals that are displayed in the put file
 499  scen_sorted.ND = 3;
 500  PUT scen_sorted;
 501  loop(rs, put res_scenarios(rs,'scenario') put res_scenarios(rs,'obj') put /; ) ;
 502  PUTCLOSE scen_sorted;
 503   
 504   
 505  z.lo(scen) = scenario_sorted(scen,'value') ;
****                             $140         $116
**** LINE     40 INCLUDE     /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/heuristic_upperbound.gms
**** LINE     17 INPUT       /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/main_for_lr5.gms
 506  *** Ensure file was generated correctly
 507  if ( sum(scen,z.lo(scen)) ne threshold, abort "sorted file not generated correctly check manually") ;
 508  start_time = jnow ;
 509  schedule.solprint = 0;
 510  *schedule.optfile  = 1;
 511  schedule.solvelink = 5 ;
 512  solve schedule using MIP minimizing Obj ;
****                                          $257
**** LINE     47 INCLUDE     /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/heuristic_upperbound.gms
**** LINE     17 INPUT       /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/main_for_lr5.gms
 513  end_time = jnow ;
 514  bound_time =  run_time_total + ghour(end_time - start_time)*3600 + gminute(end_time - start_time)*60 + gsecond(end_time - start_time);
 515  upperbound = Obj.l ;
 516  prev_y(t) = y.l(t) ;
 517  *prev_w(scen,t) = w.l(scen,t) ;
 518  * Clear bound on z now
 519  z.up(scen) = 1 ;
 520  z.lo(scen) = 0 ;
 521   
 522  display lowerbound,upperbound,prev_y, LP_time, bound_time  ;
 523   
 524   
 525   
 526  File TestingFile3 / LR1.csv /;
 527  TestingFile3.pc=5;
 528  TestingFile3.nd=5;
 529  put TestingFile3;
 530  put 'Omega', put 'Tolerance', put 'Step Size Rule', put 'Iterations', put 'Converged?', put 'Gap LR', put 'Gap Naive', put 'Obj. Naive', put 'Obj. LR', put 'Gap' put 'Time Naive', put 'Time LR', put 'Final Lambda', put 'LB Heuristic' put /;
 531   
 532   
 533   
 534  ********************************************************************************
 535  * Solve the Lagrangian Dual problem now
 536  ********************************************************************************
 537  scalar d;
 538  scalar FinalIter;
 539  sets ro "rows" /1/;
 540  sets cl "columns" /1*3/;
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     01/03/22 15:15:21 Page 13
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


GDXIN   /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/Naive.gdx
 543  *$load i=dim1
 544  *$load j=dim2
 545  parameter nv(ro,cl) ;
--- LOAD  nv = 1:nv
 548  display ro,cl,nv;
 549   
 550  scalar zlower;
 551  zlower=nv('1','1');
 552   
 553  scalar GapNaive;
 554  GapNaive =nv('1','2');
 555   
 556  scalar TimeNaive;
 557  TimeNaive= nv('1','3');
 558   
 559  parameter ldual_iter(iter) obj function at each iteration ;
 560  lr_time = 0 ;
 561   
 562  option limrow = 0, limcol = 0, optca=0.0001, optcr=0.0001;
 563   
 564   
 565  parameter check(scen,t);
 566  scalar steprule;
 567  steprule=5;
 568  scalar FinalIter;
 569   
 570   
 571      lr_time=0;
 572      run_time_total=0;
 573   
 574   
 575   
 576      y.lo(t)=0;
 577      y.up(t)=INF;
 578      option clear=y;
 579      Lagrangian.solveOpt=2;
 580   
 581      loop(iter$contin,
 582      num_iter = ord(iter) ;
 583  *         pass a warm start
 584  *             y.l(t) = prev_y(t) ;
 585  *             z.l(scen) = prev_z(scen) ;
 586               start_time = jnow;
 587   
 588  *********************************************************************
 589  ***Solve a Lagrangian iteration
 590  *********************************************************************
 591   
 592  *Test
 593   
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/plain_lr.gms
 595  * Plain LR solve
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     01/03/22 15:15:21 Page 14
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 596  Lagrangian.solvelink = 5;
 597  Lagrangian.optfile   = 1;
 598  solve Lagrangian using mip minimizing bound_lr  ;
****                                                  $257
**** LINE      4 INCLUDE     /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/plain_lr.gms
**** LINE     88 INPUT       /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/main_for_lr5.gms
 599   
 600  bound             = bound_lr.l ;
****                               $141
**** LINE      6 INCLUDE     /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/plain_lr.gms
**** LINE     88 INPUT       /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/main_for_lr5.gms
 601  prev_y(t)         = y.l(t) ;
 602  last_z(scen)      = z.l(scen) ;
 603   
 604  * if model is unbounded
 605  if (Lagrangian.modelstat =18,  bound = -100000000;  );
 606  results(iter,'status') = Lagrangian.modelstat;
 607   
 608      end_time = jnow ;
 609      results(iter,'time') = ghour(end_time - start_time)*3600 + gminute(end_time - start_time)*60 + gsecond(end_time - start_time);
 610      results(iter,'objective') = bound ;
 611   
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/LR_updates.gms
 613  *** UPDATES FOR LAMBDA, GAMMA, THETA
 614   
 615  * Gamma update
 616  gamma =  threshold - sum(scen, last_z(scen));
 617   
 618  * Bound and theta Update -> in stepsize 6
 619  if (bound > lowerbound,
 620           lowerbound = bound;
 621           noimprovement = 0;
 622  else
 623           noimprovement = noimprovement + 1;
 624           if (noimprovement > 1,  theta = theta/2; noimprovement = 0; );
 625  );
 626   
 627  * Fix the Stepsize
 628   
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/stepsizes.gms
 630  *** Guarantees that never zero in the denominator
 631  *norm = max(abs(gamma), 1e-6);
 632  norm2 = max(gamma*gamma, 1e-6);
 633   
 634  *** constant step-size rule
 635  if(steprule=1,stepsize =0.58;);
 636   
 637  *** constant step length
 638  if(steprule=2,stepsize = 200/norm2;);
 639   
 640  *** square summable but not summable
 641  if(steprule=3,stepsize =3/(2+num_iter););
 642   
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     01/03/22 15:15:21 Page 15
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 643  *** nonsummable diminishing
 644  if(steprule=4,stepsize= 1/sqrt(num_iter););
 645   
 646  *** nonsummable diminishing step length
 647  if(steprule=5,stepsize= (300/num_iter)/norm2;);
 648   
 649  *** original
 650  if(steprule=6,stepsize=theta*(upperbound - bound)/norm2;);
 651   
 652  * Lambda Update
 653   
 654  lambdaprevious = lambda ;
 655   
 656           if (gamma ge 0 and lambdaprevious eq 0,
 657                   lambda = lambdaprevious ; );
 658           if (gamma gt 0 and lambdaprevious gt 0,
 659                   lambda = lambdaprevious - min(stepsize, lambdaprevious/gamma)*gamma ; );
 660           if (gamma le 0,
 661                   lambda = lambdaprevious - stepsize*gamma; );
 662   
 663  * Check convergence
 664  convergence=0;
 665  deltalambda = abs(lambdaprevious-lambda) ;
 666  if( deltalambda < 0.0001, contin = 0; display 'lambdas same'; convergence = 1 );
 667   
 668  * Results output
 669  results(iter,'deltalambda') = deltalambda;
 670  results(iter,'noimprov') = noimprovement;
 671  results(iter,'theta') = theta;
 672  results(iter,'step') = stepsize;
 673  results(iter,'gamma') = gamma ;
 674  results(iter,'lambda') = lambda ;
 675  results(iter,'gap') = (((-lowerbound)+upperbound)/(-lowerbound))    ; //gap is same as computed by GAMS
****                                                                        $767,409
**** LINE     42 INCLUDE     /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/LR_updates.gms
**** LINE     94 INPUT       /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/main_for_lr5.gms
 676      if( ((results(iter,'gap') < exit_tol) and (num_iter > 2)),convergence=2; contin = 0;);
****                        $149
**** LINE     95 INPUT       /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/main_for_lr5.gms
 677      lr_time = lr_time + results(iter,'time')   ;
****                                      $149
**** LINE     96 INPUT       /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/main_for_lr5.gms
 678      if (lr_time > 2400, contin = 0 ; ) ;
 679      d=results(iter,'gap');
****                    $149
**** LINE     98 INPUT       /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/main_for_lr5.gms
 680      FinalIter=num_iter;
 681  );
****  $408
**** LINE    100 INPUT       /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/main_for_lr5.gms
 682   
 683  *run_time_total = LP_time + lr_time + bound_time  ;
 684   
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     01/03/22 15:15:21 Page 16
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 685  * check if any p and q active simultaneously (nothing to do with Lagrangian)
 686  *parameter check(scen,t);
 687   
 688  scalar ObjLR;
 689  scalar heuristic;
 690  ObjLR=-lowerbound;
 691  heuristic=-upperbound;
 692   
 693  display results, lowerbound, upperbound, LP_bound, run_time_total, lr_time, num_iter ;
 694  display z.l, y.l ;
 695  display zlower, ObjLR, heuristic;
 696   
 697   
 698  put TestingFile3;
 699  put n, put tol, put steprule, put FinalIter, put convergence, put d, put GapNaive, put zlower, put ObjLR, put ((ObjLR-max(heuristic,zlower))/ObjLR), put TimeNaive, put lr_time, put lambda, put heuristic put /;

**** LIST OF STRAY NAMES - CHECK DECLARATIONS FOR SPURIOUS COMMAS
**** STRAY NAME start_cost OF TYPE PARAM
**** STRAY NAME max_charge OF TYPE PARAM
**** STRAY NAME max_discharge OF TYPE PARAM
**** STRAY NAME init_bound OF TYPE PARAM
**** STRAY NAME t1 OF TYPE PARAM
**** STRAY NAME t2 OF TYPE PARAM
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     01/03/22 15:15:21 Page 17
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Error Messages


116  Label is unknown
140  Unknown symbol
141  Symbol declared but no values have been assigned. Check for missing
        data definition, assignment, data loading or implicit assignment
        via a solve statement.
        A wild shot: You may have spurious commas in the explanatory
        text of a declaration. Check symbol reference list.
149  Uncontrolled set entered as constant
257  Solve statement not checked because of previous errors
408  Too many ),] or }
409  Unrecognizable item - skip to find a new statement
       looking for a ';' or a key word to get started again
767  Unexpected symbol will terminate the loop - symbol replaced by )

**** 11 ERROR(S)   0 WARNING(S)
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     01/03/22 15:15:21 Page 18
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/main_for_lr5.gms
     2       13 INCLUDE        1      13  ./home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/input.gms
     3       27 INCLUDE        2      14  ../home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/wind_costs.csv
     4       62 INCLUDE        2      24  ../home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/wind_scenarios.csv
     5      193 INCLUDE        2      54  ../home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/sampled_dynamic_hi.csv
     6      292 INCLUDE        1      14  ./home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/subgradient_parameters.gms
     7      328 INCLUDE        1      15  ./home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/equations.gms
     8      452 INCLUDE        1      16  ./home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/lp_lowerbound.gms
     9      465 INCLUDE        1      17  ./home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/heuristic_upperbound.gms
    10      541 CALL           1      35  csv2gdx Naive.csv id=nv index=1 values=2..lastCol useHeader=y
    11      542 GDXIN          1      36  /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/Naive.gdx
    12      594 INCLUDE        1      88  ./home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/plain_lr.gms
    13      612 INCLUDE        1      94  ./home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/LR_updates.gms
    14      629 INCLUDE       13      17  ../home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/stepsizes.gms


COMPILATION TIME     =        0.145 SECONDS      3 MB  24.8.5 r61358 LEX-LEG


USER: Small MUD - 5 User License                     S160825:0507AO-LNX
      Universitaet Erlangen-Nuernberg, Lehrstuhl f. WirtschaftsmaDC7699
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/main_for_lr5.gms
Output     /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario15/main_for_lr5.lst

**** USER ERROR(S) ENCOUNTERED
