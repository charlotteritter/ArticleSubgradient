GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      01/03/22 15:15:37 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


      This is Step 5 of Algorithm 1 of file v10.pdf (iEEE paper)
      The 1500 scenario fixed problem
      Follow up of SAA.gms
       
   7   
   8  OPTIONS PROFILE =3, RESLIM   = 2100, LIMROW   = 5, LP = CPLEX, MIP = gurobi, RMIP=gurobi, NLP = CONOPT, MINLP = DICOPT, MIQCP = CPLEX, SOLPRINT = OFF, decimals = 8, optcr=0.01, optca=0.01, threads =8, integer4=0;
   9   
  10  ********************************************************************************
  11  *-------------------------------------------------------------------------------
  12   
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/input.gms
  14  ** sets later to be defined in input file
  15   
  16  ** to be changed
  17  SETS T times/t1*t24/;
  18  SETS W scenarios /scen1*scen1500/;
  19   
  20  ALIAS (T,TT);
  21  ALIAS (W,I);
  22  ALIAS (W,SCEN);
  23   
  24  ** define generator costs and wind selling prices
  25  TABLE PRICES(T,*)
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/wind_costs.csv
  28  ,REW,GEN
  29  t1,21.86631793,50
  30  t2,22.68762551,50
  31  t3,22.63231186,50
  32  t4,23.53977501,50
  33  t5,24.15305477,50
  34  t6,25.0022415,50
  35  t7,26.14884331,50
  36  t8,28.48265662,50
  37  t9,35.32421651,50
  38  t10,53.07988113,50
  39  t11,67.07745747,50
  40  t12,43.78264533,50
  41  t13,33.25218533,50
  42  t14,28.68827035,50
  43  t15,26.76175663,50
  44  t16,23.97472252,50
  45  t17,21.05077606,50
  46  t18,18.8721276,50
  47  t19,17.16537812,50
  48  t20,15.4798614,50
  49  t21,14.81514842,50
  50  t22,14.64047737,50
  51  t23,15.10197375,50
  52  t24,17.32390701,50
  54  ;
  55   
  56  Prices(t,'rew')     =  - Prices(t,'rew');
  57  Prices(t,'gen')    =  - Prices(t,'gen');
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      01/03/22 15:15:37 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


  58   
  59  ** define wind realizations at all time periods
  60  TABLE WIND(W,T)
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/wind_scenarios.csv
  63  ,t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16,t17,t18,t19,t20,t21,t22,t23,t24
  64  scen1,44.239012,52.62565494,54.65295254,8.003015629,12.66761324,13.9993797,14.83649462,35.80022965,45.09645346,13.08652267,22.09410939,23.97693386,21.53049591,21.46125756,6.599349956,17.1146969,6.759709629,16.43961815,26.90566214,40.34854567,45.8552
      7921,21.16726985,21.30014487,6.512169235
  65  scen2,56.84039682,50.40041088,36.84238518,1.994878679,3.285542468,15.38968576,23.93958245,28.96539691,14.46111234,3.940992303,1.540127118,6.44322101,1.124059204,4.32181947,17.66236001,37.50983163,39.38093293,44.33981534,38.91748392,53.53558665,66.62
      197748,13.79734041,10.52977302,6.998839262
  66  scen3,17.05226372,13.9782604,24.82121424,11.226298,0.643400775,0.282371167,10.43013341,22.32778706,23.47966018,9.836887154,7.893545662,21.61813764,26.15857765,20.96235447,12.10977549,38.3711382,45.47554298,40.46085842,43.32985871,46.15047977,55.7973
      8517,25.68497857,43.24267856,36.95144901
  67  scen4,47.39374959,42.81160496,43.64137859,13.80727319,6.842098512,9.277539479,9.744971531,9.150228961,5.537032689,20.47376779,17.55944394,2.971482937,4.845019421,16.68254517,40.55901959,34.3008666,26.01076591,43.70621429,41.77401972,39.27336243,34.1
      8142678,24.19316073,0.104303872,7.97209707
  68  scen5,42.11092294,44.94468674,45.88179527,15.56450866,14.4480604,15.86718217,26.75013245,29.44867059,32.95555261,10.01357926,17.5858168,3.067937262,5.628161026,11.33158321,4.575153294,35.02740202,34.54826347,39.4636425,30.96315568,35.88524177,35.440
      6524,28.09914575,24.36520541,17.4005007
  69  scen6,26.29910048,17.86610122,22.57265462,0.506716015,2.44025254,9.270517625,5.255099347,12.87066897,19.93422841,1.235604216,8.58807367,5.202106793,2.470551495,0.39553303,6.524333631,28.36086784,30.22783028,29.65192509,26.40227741,19.26308697,25.854
      29921,35.87871396,61.43099181,69.28017757
  70  scen7,34.79676413,38.29595109,41.4164606,11.59462241,25.1742713,29.25095583,10.18258655,17.26539455,23.60789934,0.511767846,9.341868806,3.049670142,17.57006074,20.73164664,21.56649954,40.52269127,35.48531445,39.77699117,19.40237719,16.33004402,18.41
      102509,31.83364846,28.5409027,17.5658523
  71  scen8,42.34287414,49.45012571,40.56353251,8.204250417,7.460056468,35.79429629,19.15297319,11.3490539,6.83341032,7.19277143,14.1024011,8.942882521,18.75054489,27.10715103,21.26129889,25.23050286,23.63722986,24.16961541,32.45397369,27.48696132,37.6279
      0373,38.92598158,35.88156551,26.26208118
  72  scen9,73.79994237,95.29535847,92.576244,15.25669626,30.70186635,22.3143768,11.66673052,1.320884917,8.066983822,6.980897884,4.365003334,6.763100133,10.04283799,23.80602932,31.10489546,25.75117146,28.37861846,40.33041032,40.62954082,43.12824482,35.764
      30266,19.14153968,6.518229252,6.661978805
  73  scen10,65.93551207,67.66791192,62.92348377,12.43826248,19.79895355,3.786836609,23.86862174,17.02192885,9.91196429,0.427073078,4.414955975,5.938205882,11.27917063,18.61353853,13.11186677,40.54482623,32.37538488,28.34280059,27.98746052,38.44638619,45.
      06539659,17.82650234,24.62903157,37.52757759
  74  scen11,25.88885977,2.439333164,5.342551834,15.95489034,30.65955971,22.32722231,20.26371579,9.761073818,16.52718925,10.60058568,9.247873376,5.708582253,14.63805402,21.28428585,31.35957096,49.88934951,60.41522587,49.12862154,29.61692784,36.58009478,40
      .67869089,25.30881113,5.063931953,15.71816735
  75  scen12,68.51647999,64.37867859,76.18571692,5.943272941,8.897532216,0.34852929,13.04488766,15.75285712,0.880503617,21.15698573,27.50122986,28.60005011,5.699140289,10.79618798,7.902496157,29.73695222,39.62381584,43.88202238,37.29333089,49.36003792,64.
      09297322,39.67873084,34.42824958,49.84984715
  76  scen13,46.06412744,59.73607343,52.08492047,5.794885581,1.106397745,2.210275168,2.649823505,0.849696661,1.246955155,6.402449533,17.11843264,11.10045037,2.829981374,1.513795498,12.58054002,28.58314477,30.77073125,46.73576165,39.70059639,32.13459577,16
      .89639706,38.90554279,46.8171793,38.35729598
  77  scen14,38.39899899,27.27674771,20.43975451,17.02315435,6.079353983,3.051488518,15.71956624,14.69022402,17.80203592,6.855471303,12.86530597,17.52549893,9.306919441,4.312956907,23.63910395,37.46049777,38.06488959,25.93868337,17.52711641,17.12401427,18
      .67947837,25.00849761,25.2146069,32.00105573
  78  scen15,45.96048174,55.78933503,49.13919272,13.41952119,13.22457839,11.44660919,3.231026377,16.88565372,22.5213616,12.55820852,3.897565766,8.22067914,4.119137621,21.61576929,23.50008812,43.91842154,34.06793279,28.82703129,33.24573335,24.00014308,22.8
      5087037,20.42899854,25.9964842,38.06362957
  79  scen16,37.0193872,37.30985743,25.71166909,2.320511894,11.43012969,20.16022113,12.58704029,22.22276451,29.38299977,1.314680754,12.03016056,10.73811621,17.71368597,26.50807025,39.3426717,42.90374066,49.02558111,58.53249134,33.20563049,37.25469142,14.9
      0791907,11.44839929,10.771033,25.56385282
  80  scen17,37.8051081,50.97990938,50.85734491,5.126355124,7.986793733,1.745081728,18.06970577,25.25842877,26.06354908,4.700686308,3.823174564,5.17054114,15.45988234,6.650459052,7.608767203,36.11960563,24.54670882,3.633172144,29.83261181,32.77780991,45.5
      5150784,32.76301361,40.81850355,36.60625252
  81  scen18,53.49432511,36.0995,28.5596941,3.506569559,0.412810513,8.176245332,12.28145968,13.41929205,5.521056087,5.089390475,3.962683155,23.22354203,30.7266471,40.24627488,41.0673035,27.32586121,41.65894524,50.57976576,39.98121,53.95404142,82.45212883,
      26.45368474,14.38466419,13.01695515
  82  scen19,52.71014599,52.33357487,65.09343809,13.53216447,13.44199286,31.44835694,18.76226064,31.71535986,35.60595028,13.95380096,18.30754238,28.65837338,10.10603252,11.28596637,19.35935705,39.61568484,45.52937619,52.93802034,27.76133723,37.90169492,37
      .65431804,14.78154443,15.51786838,15.70306975
  83  scen20,52.78945452,42.60501728,36.52164079,15.2533632,7.772944607,19.0223865,30.03159588,26.32804697,22.1178567,23.65293157,30.14275894,30.250181,12.47949869,16.31885067,26.63452289,32.72306024,35.01200286,37.41031227,23.26994654,28.36996929,32.9028
      3379,22.97894644,7.651148721,0.052627529
  84  scen21,45.54006122,74.23156884,67.16468936,2.641005815,7.060081893,17.61197014,19.19249531,26.31708251,23.69007982,26.32857618,31.80063039,44.72089083,24.90892308,27.17517866,40.86570281,46.87957027,44.9878704,35.51836638,33.98515619,29.50515406,23.
      98039718,8.446265431,13.68363871,19.53256526
  85  scen22,27.27322381,32.85166569,50.22148293,2.646347722,2.092307349,18.63512697,12.8052212,18.28390307,13.21207705,7.707922364,1.24895201,8.419040795,20.95105631,16.17466138,6.674973661,19.80318559,3.665992477,5.947527324,35.77186049,31.85478036,34.4
      6314814,30.41181152,28.46013064,31.46842306
  86  scen23,45.98474454,59.88123154,72.79120656,8.558036308,11.13390141,21.61839534,16.44835419,22.5063178,24.61362531,5.731393733,3.611486385,1.625050314,2.821025406,0.635221669,2.710237888,34.86634947,23.29322096,22.09834203,29.18734399,8.920444856,2.3
      02688325,24.54009574,31.0576087,29.16634738
  87  scen24,54.86058416,46.45596939,40.59909855,4.388532102,5.244738034,10.66857877,14.34676393,9.590298831,8.298509426,16.79184347,18.13198929,32.51819947,10.64934495,5.184240272,1.931568352,46.03155241,51.38487303,59.73056034,39.04150306,35.90640752,33
      .53095421,42.08997873,39.76404071,39.15366118
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      01/03/22 15:15:37 Page 3
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


  88  scen25,43.76485406,39.35156994,23.00295706,10.16010386,18.48477072,21.5650176,2.570948694,0.286192725,0.363188162,13.60939027,11.47676701,26.5621886,16.06272287,15.52440867,17.4023879,28.68174293,51.21532698,61.63449298,16.54417527,0.841257656,13.88
      908239,13.01570825,14.54989702,42.63601321
  89  scen26,49.07092674,47.39669375,41.1795282,11.11391878,14.70773691,16.63085778,6.162134684,2.206010694,1.940787273,16.2837399,27.37873844,36.72207244,12.22515427,15.77307406,1.618998841,27.41901007,33.49803823,31.62826277,20.85189504,28.26171595,22.4
      115591,35.66653291,47.8055632,48.85162631
  90  scen27,46.07852432,57.26233437,56.21680895,1.814839195,16.32376472,43.34065861,22.11633574,16.95297237,7.177716842,16.41039252,44.06677599,53.66324791,15.25500342,19.83292025,35.96822957,24.41687175,25.83987412,42.74224872,1.435329389,5.52882944,4.0
      57886979,27.62801728,9.01303344,13.15084714
  91  scen28,36.06204839,32.29502802,34.27110561,5.506844472,10.19190854,11.92142072,9.786630818,0.293297732,5.806833002,5.546787239,18.8760503,23.61936905,7.38938152,6.94227427,13.69696084,30.78367573,24.92496369,23.70170206,36.37081065,38.51949903,37.53
      523539,27.03464413,9.418448028,2.38004672
  92  scen29,41.86891423,48.53414239,46.2472826,13.50156358,2.711569844,4.20381762,15.87246048,28.53405862,24.00844452,14.0974638,17.96181559,26.5669445,8.107732778,8.386190348,29.40465308,31.54390882,32.26223729,24.57537306,21.66747791,16.48701496,15.515
      88887,33.19876171,16.8898978,8.70341689
  93  scen30,31.35830388,9.607887433,10.93830074,18.36074058,14.99843667,16.9341078,0.425493581,7.648821305,1.233333298,7.954320129,4.414791235,12.93288178,9.341530846,11.62463456,27.04636258,34.82269418,44.22140956,41.15266859,28.84106766,29.8552566,44.3
      0050631,37.83424044,48.31564166,45.56119286
  94  scen31,47.64867389,44.96022574,46.88201998,1.110123328,7.191142335,12.7141728,10.83755109,10.93919602,21.65524879,1.45331865,14.74946534,24.65010723,0.808399401,5.880954176,9.073226102,24.90572947,20.92509841,29.52227001,41.11359922,58.26538096,79.5
      6701052,15.81910442,18.53710089,25.97917054
  95  scen32,27.86057533,17.50201554,4.556991718,4.477488263,6.921789096,3.793740129,16.04617357,6.895629171,4.542137472,2.101334458,16.54325151,23.70279121,22.31869769,38.76916686,31.99993799,34.2957489,52.64787277,57.20471444,31.79779076,45.00052276,37.
      51080437,39.05351452,34.64738511,24.98535866
  96  scen33,28.62080545,11.05649613,0.164273352,4.7571646,12.12564238,9.119791314,3.025839107,6.306034335,1.291865983,21.30212303,8.886076293,17.93302428,8.546717917,16.40596314,2.117347641,27.6226793,14.67432961,21.84270165,27.02013284,21.9983112,15.484
      68807,14.4683656,27.60863607,13.34046603
  97  scen34,31.14232862,34.24344751,27.98106638,6.662886397,1.145876658,9.081265085,13.58951763,15.61698086,13.08764875,0.972240209,20.42623167,21.62324375,15.1588944,15.23992248,16.03135281,29.90869408,25.52411798,25.80109396,23.05334101,23.40621908,29.
      48924359,15.78942437,15.90326894,17.96928062
  98  scen35,10.38867778,8.037865554,5.605495658,7.023156968,12.33910543,10.80790568,8.442524198,0.717493503,1.449094672,3.179692028,13.8177731,6.532255279,0.173792414,6.505258865,11.98786327,25.34493871,24.41194598,49.26485584,28.9650664,17.71479742,12.5
      2858306,19.69320236,3.653174707,2.029018173
  99  scen36,52.9954358,54.91104265,50.00581172,1.7753351,10.0592834,22.86809642,1.076507304,12.53904818,7.066145758,10.93133893,15.25650323,24.77200064,1.967904864,4.17302216,8.25669194,30.74721828,11.15632946,7.915019709,37.16334193,41.98771321,61.44261
      333,33.39123269,25.01830497,25.90803532
 100  scen37,42.17338749,29.10066439,26.3428768,28.39754392,19.63027578,7.222290205,9.845456724,1.610372289,10.6265426,28.3922633,43.93429244,36.73065776,7.600811098,8.028313728,18.2306506,68.19837155,78.97348413,72.45209699,16.56137207,21.44374908,39.836
      74889,15.82981016,1.143627867,1.188914235
 101  scen38,31.67284306,40.87990345,13.26952622,18.2936969,25.85741079,40.16365066,8.224879258,11.50521899,2.208934321,9.09266247,12.35531767,15.72627453,6.027802548,15.35536563,9.305067928,66.62020247,72.40726716,68.51208342,30.63740845,39.29243287,46.1
      6894445,29.48558579,39.69097072,48.31544576
 102  scen39,52.33356839,57.22421433,51.5362494,17.04794513,4.640890232,2.472949133,10.47711751,15.20029924,21.86547143,11.84141224,36.42192732,56.82515658,20.1008301,7.084893747,5.776099316,44.64328495,47.01182678,46.82656569,38.90802373,25.22427851,27.6
      7890264,30.23578147,25.43186141,33.28352467
 103  scen40,22.37322222,16.25325365,28.8494196,11.51635636,10.93336666,10.44546219,1.23130276,17.5612826,5.348277872,0.277085967,26.84455492,34.62288042,14.37710661,14.81719693,8.069489808,41.14679082,49.9082821,64.42138151,17.49005982,20.2389257,18.9960
      0734,27.72990391,16.98413643,2.551542254
 104  scen41,38.01803087,37.48168195,26.68269329,6.36628849,1.320372623,14.32411689,0.580727573,4.803844767,10.21918284,25.1203833,30.81052776,28.17619382,13.73985903,10.3614862,18.13677718,21.06773122,29.10060366,33.81527174,37.80920693,30.4375073,35.954
      4927,31.62294618,27.27000115,11.45259074
 105  scen42,36.66473162,33.14657979,41.48503982,4.746368735,11.58232751,11.49304997,1.193475761,3.728452922,2.121295533,10.05932313,6.49717499,3.426638388,5.562041117,12.94501734,8.493285524,27.8101303,34.55263475,35.0294083,37.94406095,35.33437134,45.11
      919701,14.82959759,5.321821842,10.35773787
 106  scen43,42.11521504,24.98396382,24.88090707,8.824207476,0.772558438,10.79814283,6.563674651,22.76651249,17.70345567,13.99769333,13.05038105,10.99639158,0.922423256,0.181331578,0.135967136,27.47169452,21.804807,22.15847945,22.72604383,29.05111919,32.4
      2534177,36.02701197,46.26752967,50.0260398
 107  scen44,42.05350058,39.15053299,37.59849252,14.49514088,21.42054629,19.77284741,13.01239595,10.4951945,7.528954632,0.411449105,8.315337341,2.799651811,10.44943715,6.172404582,24.91423407,38.69735642,38.89585585,45.5008573,16.67555191,17.28997616,37.8
      4159611,27.33520556,32.56070448,24.43616064
 108  scen45,30.6039314,20.59999539,21.32348615,4.571458934,1.233230277,9.479037315,5.287764903,19.04149713,28.02895109,17.14694189,12.8072135,11.21868068,5.10321333,0.264438685,7.213252907,38.18877776,42.19661754,35.4501473,35.51270152,34.5905822,40.4823
      5841,33.3289041,37.79303541,50.01080526
 109  scen46,38.71984842,28.5515361,11.31533365,22.550176,41.6154925,50.4064131,11.28185127,13.42874433,14.9475085,12.62737218,4.050418582,3.455676082,21.02695565,30.74181992,31.12371869,34.54790107,22.33038657,24.54826067,39.15945345,46.29956486,45.44089
      019,16.67023679,19.62466375,21.83717901
 110  scen47,37.40909962,25.31258184,22.31969898,2.550421814,3.421822276,3.499557399,17.86193329,29.0396826,37.27644058,2.394014317,1.603681272,5.678025355,21.52340009,32.99515103,37.36416505,30.18521239,19.429711,2.787705761,36.93010529,53.71216294,59.30
      217397,26.73743332,27.64651659,29.24610659
 111  scen48,45.11435138,40.28137836,53.94515316,10.40988787,28.73516582,24.28978151,10.18869344,15.79959613,15.18143352,9.230570909,31.56386641,49.63473656,2.838847875,27.46222473,34.21891613,24.49256334,18.76540439,18.0236389,38.71802621,33.82906864,42.
      86639016,34.76331997,27.28894294,28.10080356
 112  scen49,49.64035001,31.23534075,27.60648312,13.68824429,12.49078876,2.87697882,11.11551286,6.130572308,4.611200037,4.463666241,1.389814629,3.964537346,16.9929311,23.08844873,26.13219082,33.54507921,34.1435372,24.94978577,19.80963624,4.891336327,0.026
      378928,36.09073116,43.31429609,50.94532565
 113  scen50,49.79597067,60.25821211,60.58478277,8.05410179,15.8355488,15.80137541,6.534028514,8.209844424,4.864523615,9.906302001,9.138570153,26.28871401,22.05124781,26.56715829,31.49607735,44.56776353,63.55072028,58.76542829,36.97783575,26.57843724,23.4
      626418,25.41159413,17.7122242,31.73546436
 114  scen51,30.6158608,33.75190096,27.62375199,15.79024786,18.44430092,15.07101392,4.203726239,9.413654145,0.716075443,6.4084424,19.15926487,3.092938989,11.6056715,8.334836506,2.982225987,37.64800279,45.88559868,49.31451601,25.66321426,15.60822054,37.767
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      01/03/22 15:15:37 Page 4
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


      34601,8.212203256,4.622623335,6.769122632
 115  scen52,39.7640553,39.08431602,38.13002778,10.36809464,6.874598684,12.45044818,9.784352258,31.33163732,28.95560493,6.998072409,20.29193426,19.59362182,24.26712995,26.66581799,18.84655153,35.25327593,31.06273299,19.13708879,25.84445017,18.47255666,13.
      35179978,15.56868631,3.866366917,13.23757575
 116  scen53,27.20876805,24.41657381,27.15161434,0.397272217,9.219522366,1.313753542,19.55115407,23.8718837,35.90193013,1.197399246,3.7407437,9.348219815,18.81377506,21.76371861,25.92054402,39.88513569,34.60706978,23.29456782,16.17597809,19.41929438,30.89
      674776,28.35702308,37.55582411,48.91817751
 117  scen54,28.18692517,18.12670201,21.49432311,10.32529186,5.202047422,3.781118711,27.10896149,21.82008186,26.12106169,5.701298066,16.9757251,12.3599793,10.56662102,4.354683504,12.77991199,39.17317862,54.81029971,41.73878873,41.99771771,23.40738682,27.2
      0702612,33.95298567,45.11338858,37.25996268
 118  scen55,38.94540998,48.2352895,45.61518798,25.29452963,29.51605082,40.6595751,6.028024213,18.70069189,10.00552545,16.29614176,27.72254559,17.61154942,17.00914293,17.66535977,15.18370483,17.77875947,41.7239565,25.51904934,33.00372577,35.57390935,51.23
      333712,30.7339347,14.75333247,24.1278867
 119  scen56,53.91170207,54.35043837,49.92466,1.348893745,8.527476889,13.09281366,5.609931033,12.16844145,31.48751764,25.80534426,26.54691922,32.05564245,10.37512163,19.77961339,12.58011509,33.67586137,35.16754773,33.78139144,41.05863344,35.03061518,38.06
      967739,20.27582179,18.31396451,13.28375756
 120  scen57,31.52956923,22.80664978,41.52313425,8.230755269,4.22020236,14.39650564,11.82751466,9.198105695,4.33028113,2.437944938,1.75492326,11.05222483,4.451724432,0.091648609,1.050456226,29.35229944,23.88274603,34.68521029,45.99137142,58.99409448,35.36
      385585,48.05088422,54.33419737,67.59272667
 121  scen58,42.62241402,55.72338149,34.94212379,12.7008432,17.90652557,14.47556151,13.86826939,24.74330662,29.38965055,31.95661224,34.46620483,36.35045719,11.96997611,19.14257754,16.54721786,13.71922936,3.280131849,5.537743304,20.24602199,10.20387107,1.6
      35667934,26.93493899,21.5232622,13.07179303
 122  scen59,36.81894275,33.68685947,54.66442907,8.330278533,0.770981842,2.640800447,8.004007048,4.124372912,4.678256716,23.68023666,19.05162372,21.81013589,8.837307793,20.35226897,20.32589757,20.57761213,27.86572969,28.11280828,37.553073,38.61627272,43.0
      3698724,34.64583398,43.77544022,33.72564315
 123  scen60,49.87454928,45.24886969,46.07941127,1.569509831,8.450466828,21.9509082,0.958989043,20.04935188,19.54501657,10.48240307,18.70287902,12.70727187,4.940344524,16.67726273,24.94472446,30.38352549,32.54761693,22.94742038,31.17782034,22.05278895,23.
      14920946,22.19034218,24.44196563,34.88345119
 124  scen61,28.42448791,23.30522382,32.99715331,2.67896709,2.341629141,5.156581779,29.8902075,38.7507542,28.22399171,5.91600466,7.905286383,5.089194532,25.7024072,37.77617592,37.79168151,41.51789495,53.94141119,70.22194735,40.18998803,34.96739039,52.1984
      7206,15.39255521,12.6187654,0.509646056
 125  scen62,39.32850928,30.5319168,12.47646249,6.011790404,25.32780084,25.70533036,12.72813539,10.74560223,3.500354663,2.052154275,0.96056126,1.912616901,10.6363042,9.174421229,16.9190928,31.26423766,21.91578463,18.15870508,42.07049519,41.23973245,53.534
      06725,32.89338906,28.93120685,34.46496196
 126  scen63,44.38347466,33.73342997,25.24087066,21.60385387,15.28203813,33.55964798,5.252568479,7.084233083,2.161742838,16.94014046,22.83872161,17.50331593,35.02895623,35.52660217,29.59002566,36.04285588,38.61677585,51.17772565,39.27821076,38.31423237,42
      .07122039,36.31950287,44.89535014,49.63645235
 127  scen64,49.71175119,75.3437779,74.95386786,1.142626815,1.402620876,13.48908708,2.638048415,1.859735725,3.994246741,2.091517422,12.42724807,19.43039832,5.60594536,15.73965791,6.198156593,24.76349497,16.87119877,20.04337966,23.35332779,17.0139661,17.75
      782968,43.9465148,55.39340016,54.04731959
 128  scen65,54.02429428,71.8699625,76.56933862,14.8542048,3.184989306,2.266022654,4.02612121,15.26166608,12.67505163,4.353963284,9.26247428,34.91840833,13.97105093,20.48962661,13.90808834,12.52078788,21.46147306,22.62320077,30.07222325,40.8578056,27.6459
      3248,21.08895602,25.256809,23.50380523
 129  scen66,39.84738975,42.36517539,25.96511294,10.22625569,5.583213691,12.28173815,13.30038378,24.90365951,15.69821496,17.43445326,22.46584819,18.93562201,23.87085778,28.15237684,14.68624047,34.40637001,29.02635581,38.47066449,33.86977568,39.63009239,58
      .35455153,10.40506716,6.003778741,27.47673475
 130  scen67,24.51126828,9.41276763,12.85817068,4.952420582,0.749766611,1.677727724,11.55239647,7.91972615,5.845826494,13.0823306,18.25976581,26.24167438,35.017801,45.24794646,40.13699133,24.24628418,21.78152526,31.89701985,62.00799382,84.86824837,86.1873
      8141,41.95445896,53.78584366,50.48377287
 131  scen68,31.79559338,21.64703012,8.644427363,3.049598317,1.161769459,11.34878335,3.300819289,11.77570937,6.446979532,17.5621008,21.22010018,12.09136847,11.4363111,24.70662605,17.28623927,44.89286,43.13460544,40.32194835,43.22662036,42.41036271,25.8709
      0547,28.79944705,20.79775347,17.70927312
 132  scen69,28.69166393,24.75387032,25.52120936,4.463606827,15.11076122,32.33412473,17.76410281,22.31734371,20.66071986,13.75106241,8.784311165,21.82577702,0.80254205,2.913822348,1.344023158,50.36134944,62.50510506,74.91809751,53.86228837,67.77931229,71.
      55379114,15.27387245,15.37146731,7.851593574
 133  scen70,61.86233435,72.53698894,77.43129677,6.383154421,11.09348869,2.200770148,16.26104138,13.97958492,9.707928208,4.946846838,13.77719015,7.563606943,16.29535005,11.966448,8.836312957,29.87984233,33.31349875,51.46420601,35.3314749,15.56469566,13.00
      322409,20.79548482,33.93027643,29.02985506
 134  scen71,33.02732682,18.53643772,19.67979186,7.059026493,11.00500184,1.509395222,16.50395602,7.574399686,2.743499492,3.848777224,18.55499107,24.84155847,4.346477116,6.289140586,15.37861707,45.08995878,36.98166185,33.59566595,33.36122282,39.90063499,35
      .14880782,18.36828569,15.70280913,10.84148022
 135  scen72,46.28454226,24.17198871,29.92138263,9.094257315,19.236469,36.25078343,6.072496521,13.39744551,11.41932564,16.5862432,14.40092337,8.511971519,5.822929073,5.206623619,6.622801999,42.76438203,37.90292008,33.44924353,37.26286696,41.81833872,46.63
      903322,37.51848516,31.49716087,46.17230021
 136  scen73,37.14137015,22.15737621,29.34541344,0.768125144,7.665911563,11.84860499,20.40428337,20.2495519,32.3140851,2.319150884,21.82955942,31.99632975,11.12816026,22.08181681,28.19189967,19.73676679,7.248477045,10.69999479,26.17100283,21.73796422,14.7
      6919107,31.98784439,52.19603379,51.21410927
 137  scen74,47.65076204,51.64492722,44.47679317,6.309752945,9.255948303,28.26861491,16.63350878,19.77660044,26.74101117,20.38052255,22.26918872,22.70141022,22.96609088,31.06683031,22.6775738,33.16906491,37.86979174,41.93865506,43.37228988,52.03461964,38.
      88945397,28.59150979,26.97310687,20.05048862
 138  scen75,31.57639531,33.61184192,36.83556045,10.49447814,18.48186955,22.33191195,34.5997655,32.40043685,31.07558179,16.53116394,17.15987132,17.3047861,22.45655959,31.79187042,43.84895671,36.03184076,39.49238533,47.46400994,29.76943777,38.07041248,22.5
      0318004,28.56943988,33.64133167,30.12169642
 139  scen76,25.37961968,27.02965303,19.2347182,1.568808379,2.986208167,5.834569043,20.54893071,8.781113631,7.243397496,11.64136056,5.146660766,33.84157478,8.217221032,11.43368822,2.059210461,38.57771674,23.31148872,17.71445406,17.94818451,25.91151009,25.
      18600241,18.24525577,9.592235063,16.42483254
 140  scen77,25.18414676,21.14586809,8.81250767,4.423598258,3.689522907,24.49259006,21.4575363,26.57389425,11.54726518,8.875594226,2.970459975,2.715196395,17.46730626,17.17548537,13.6657059,40.07283273,22.40236667,25.69097636,39.76785844,45.18601155,38.96
      048298,35.88629527,40.60850685,27.7482152
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      01/03/22 15:15:37 Page 5
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 141  scen78,43.75805025,45.685181,53.96497562,10.62911741,20.46841427,19.84132883,10.72538345,11.88635016,5.805830694,12.39863572,5.484376936,4.899481188,5.361785603,7.287609684,5.089181357,40.04958645,40.52037735,49.89892146,16.05312727,19.51426839,26.1
      1918159,29.59913089,35.07943549,41.95804211
 142  scen79,37.28761647,31.78518925,30.66299715,10.62166425,17.88861141,8.545466116,2.314904563,9.061502356,38.91770751,43.12938109,53.73986211,78.86355467,14.91239245,19.84844175,17.91469276,40.08850517,47.73601644,49.76756217,13.37267611,4.017461893,9.
      962661595,23.69294997,23.75110725,11.42814401
 143  scen80,37.10603215,44.58439985,44.98483035,17.2973294,14.92709447,17.93547908,6.601456067,15.51362752,28.07116226,7.751160447,24.89824201,17.93633212,27.10499307,18.25448355,3.218152225,30.45455094,31.45427396,33.32948632,34.10569019,23.90779344,19.
      96455596,24.435885,27.73635357,27.50570548
 144  scen81,52.81004243,41.13316715,46.09192342,30.79570581,38.13381209,42.02794799,2.843348842,13.61208592,19.94368121,6.288440367,1.74113618,7.479800936,10.00912653,13.80834456,10.02936816,37.18022116,22.58547612,7.547168318,22.05743784,18.01520716,3.8
      32710494,25.24256769,37.20999324,21.75629139
 145  scen82,41.8466799,46.11191689,51.7705223,16.55288968,16.94754439,11.78031058,4.727629449,1.728297361,10.28712544,27.46219757,40.47920768,31.25663512,5.563451275,15.94416428,12.10263332,11.59144099,7.094388938,19.00152728,22.4480446,22.88233177,41.58
      241428,17.60807173,3.017220405,7.257893538
 146  scen83,40.9350479,32.3828058,33.76153606,4.15610072,4.314418345,7.564102516,15.60720783,9.035273126,2.482193927,14.77294484,30.54052757,43.7117106,3.623997156,3.611766022,5.953158875,22.13503953,28.61835203,16.62459927,29.72745492,38.73459748,39.200
      55712,33.43901381,36.9797807,43.74610358
 147  scen84,54.44706184,53.00920086,62.67999489,11.39284999,19.75552838,6.11862928,4.797536452,6.704729476,1.267955073,2.54545686,20.94925202,19.34711541,15.45045205,33.65046372,17.01080784,45.17844037,45.43309858,31.88975839,26.54893412,18.12765994,29.2
      8835239,39.76616698,22.94312233,12.35883634
 148  scen85,31.19125517,34.73566227,44.780979,2.845560508,7.673102478,4.573860791,1.508359133,6.669052501,24.99351301,34.28906179,38.44355739,43.84060557,21.48582499,30.79498818,37.62517709,27.06987001,22.14280241,20.48455251,29.13605897,24.04715497,28.3
      2005375,50.28200902,54.7421346,56.04255804
 149  scen86,45.78434002,56.34518684,59.08312212,25.48189036,28.34189484,20.17158373,6.230998018,34.40566508,24.11220781,14.20038174,20.26508846,19.25067616,29.15029355,30.12618154,48.70812903,36.67776002,49.80815238,35.67115051,33.94680611,63.28775222,76
      .4215905,31.13053014,51.07863197,55.53438992
 150  scen87,47.13043702,36.93541927,27.21895336,16.37113256,22.91229874,29.39308398,8.646255622,17.15843996,15.59310933,11.70437818,20.91862133,25.78353421,9.010578006,9.417666774,32.4257553,48.15483687,42.54661716,61.66912531,19.94181325,12.11689251,0.9
      98926986,18.23572704,26.54305512,40.36036791
 151  scen88,36.64268194,47.92379235,43.17431871,14.88023271,15.68531163,16.24982564,14.18975018,8.982687402,8.169471547,1.282300896,10.79623083,3.874632295,10.07014264,9.464627741,5.791288924,24.8516761,24.64833814,32.68414812,19.4002838,36.21151834,52.4
      6691126,28.18547709,28.8365627,30.2738954
 152  scen89,41.10866728,47.25220081,59.10021224,1.289021078,1.528877434,6.803736194,0.949141636,9.314398723,6.374138834,1.508653454,11.1183015,32.16819823,2.334205916,5.534890795,7.697042986,24.16750799,26.60192364,7.843137686,10.89145854,17.04363314,34.
      51379553,16.44138173,12.02961354,22.8978196
 153  scen90,27.67806266,24.63773787,9.350745952,10.33636312,17.0229916,19.08422024,13.29519293,4.494054985,12.21910381,8.347682576,1.564474087,13.00738644,24.1563909,35.77230073,32.63208822,28.70329579,35.75790581,26.07225741,27.50806434,21.49959754,0.81
      6168615,20.27055717,24.88323066,25.4803604
 154  scen91,27.8519943,23.6008405,23.53553985,1.798382345,3.128522573,8.507826495,10.96882591,1.076140314,5.798369084,4.732752628,4.747430301,10.63686045,7.751676886,6.620080544,8.657374653,37.7811441,29.98317311,27.09288814,37.75978812,37.74604311,35.28
      310633,19.82538472,29.50743524,25.78416505
 155  scen92,40.03155275,37.47297653,17.54640137,4.198317756,8.316637543,4.301121227,23.08556179,33.76387752,53.81502015,1.39366894,4.170378975,1.23919615,3.884514548,9.441102534,3.307447801,31.50269591,34.49949414,18.42351663,24.47469972,21.32153788,15.2
      899412,18.13123116,17.41606519,18.19272586
 156  scen93,46.03350235,43.58503642,51.84365348,1.684486998,8.580385188,20.17565725,8.137971263,1.934702545,1.310644975,15.14148498,8.582838638,5.309012559,29.71960192,51.93553701,35.67730065,23.98744057,49.05149205,49.4928302,36.17560315,41.55239692,43.
      35692227,29.90812959,46.59486121,47.16062254
 157  scen94,64.14725442,67.71043431,73.25861546,2.745902225,1.491171659,2.43701634,8.902986312,13.45413617,19.58448471,5.756358931,8.818423788,23.92794627,16.35854931,28.47030326,30.48959532,18.20169729,0.930043489,10.48271596,36.5546137,50.66403821,44.0
      0664485,15.38862289,6.168551227,14.8712889
 158  scen95,32.52871483,31.40754176,31.53755902,1.608584804,15.74405603,24.83464428,1.177177313,12.39498097,6.02993977,26.04175929,37.93185927,30.36644995,15.44920208,26.38564313,16.77054895,29.89378785,33.38351721,32.63106883,40.93360979,26.53136318,25.
      8706832,32.71829157,14.72607689,10.91757855
 159  scen96,40.83316466,48.54650317,48.39494438,5.185377797,0.870449345,10.49240403,3.256706363,0.215050566,2.460321093,23.52959408,39.22648959,37.41788503,1.290653612,8.92384394,26.08624843,31.34344333,28.60781346,27.64966338,40.92026323,62.11208509,70.
      12735734,33.96355265,28.31450827,18.66441448
 160  scen97,38.21001434,52.32599143,30.00196778,9.289845363,17.12427145,13.20966032,13.22899668,24.42455422,15.75329953,10.438683,28.34782427,25.28419709,12.7042322,9.993875168,33.55004521,28.29018841,19.26877035,8.596935116,24.6051918,31.12561979,35.314
      36701,36.31773974,36.37401223,34.01743077
 161  scen98,20.21981215,21.20870936,28.74190732,13.1328116,1.031208796,2.882000322,7.784894525,6.522276597,3.380824088,6.095299369,7.438480487,16.29534999,13.54182075,18.51418149,17.82759429,30.94654012,22.29413519,15.70598462,22.97198829,16.33863438,15.
      12502847,26.03297536,22.78994204,34.17419553
 162  scen99,34.74451867,31.4334761,9.636577018,6.080733067,16.67381413,26.57550051,15.10756812,23.99114428,38.75645295,20.04519117,10.59826351,5.080275397,2.133262461,2.955794321,3.469299414,22.8440961,25.84958988,14.29607539,31.77230023,30.63035249,17.8
      6839427,32.24884964,25.3666859,19.86755015
 163  scen100,21.56474572,24.30328163,3.757041974,14.0229241,25.43970982,39.28628876,1.532194029,22.64521322,22.48241338,2.30172223,16.58526926,25.32235961,6.290067378,8.0310775,2.962279919,38.83280285,62.01722163,68.44643983,24.83839276,26.74641274,28.36
      516831,43.76036435,59.92164544,54.32658624
 164  *$INCLUDE wind_scenarios_1500.csv
 166  ;
 167   
 168  scalar PROBABILITY;
 169  PROBABILITY = 1/CARD(W);
 170  ;
 171   
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      01/03/22 15:15:37 Page 6
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 172   
 173  ** define tolerance threshold
 174  SCALAR TOL;
 175  TOL =0.05;
 176   
 177   
 178  Parameter last_z(scen);
 179   
 180  SCALAR G, GG, start_cost, ramp, uptime, downtime;
 181  G=130;
 182  GG=20;
 183  ramp=50;
 184  UPTIME =3;
 185  DOWNTIME=3;
 186   
 187  * maximum number of iterations in LR
 188  set iter number of subgradient iterations /iter1*iter10/;
 189  set iterFIX iterations for fixed /iter1*iter30/;
 190   
 191  TABLE y_100(t,iterFIX)
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/sampled_dynamic_hi.csv
 194  ,iter1,iter2,iter3,iter4,iter5,iter6,iter7,iter8,iter9,iter10,iter11,iter12,iter13,iter14,iter15,iter16,iter17,iter18,iter19,iter20,iter21,iter22,iter23,iter24,iter25,iter26,iter27,iter28,iter29,iter30
 195  t1,59.155,57.003,57.276,58.07,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 196  t2,31.042,31.262,31.493,36.825,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 197  t3,20.07,20.212,20.361,26.401,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 198  t4,2.036,0.311,0.313,0.31,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 199  t5,1.413,1.423,1.433,1.419,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 200  t6,2.468,2.485,4.462,4.418,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 201  t7,1.427,1.246,1.255,1.242,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 202  t8,9.126,7.436,7.491,7.416,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 203  t9,50.342,49.039,50.618,48.992,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 204  t10,84.689,84.228,86.519,86.934,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 205  t11,131.202,130.58,131.898,131.879,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 206  t12,84.327,83.717,85.067,85.018,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 207  t13,38.096,38.766,39.583,40.054,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 208  t14,7.384,7.658,7.715,7.638,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 209  t15,6.157,6.2,6.246,6.184,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 210  t16,21.786,27.61,22.102,21.882,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 211  t17,26.441,26.629,27.289,27.017,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 212  t18,20.082,20.224,16.432,16.268,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 213  t19,24.345,22.037,22.2,21.978,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 214  t20,23.16,13.065,16.982,16.812,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 215  t21,23.382,18.828,18.967,18.778,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 216  t22,20.132,18.735,18.581,18.039,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 217  t23,14.101,14.201,14.306,15.666,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 218  t24,12.036,13.942,14.045,14.677,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 220  ;
 221   
 222  * time limit for each problem
 223  scalar time_limit;
 224  *time_limit=%TIMELIM%;
 225  time_limit=2250;
 226   
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      01/03/22 15:15:37 Page 7
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


      * Import the SORTED file
      table scenario_sorted(scen,*)
      $ondelim
      $INCLUDE scenario_sorted_1500.csv 
      $offdelim
      ;
 235   
 236  scalar n;
 237  n=card(scen);
 238   
 239  *Scalar which tells if LR converges
 240  scalar convergence;
 241   
 242  ** define battery  operation costs costs and solar selling prices
 243  ** define solar scenarios at all time periods
 244   
 245   
 246  * Scaling of wind power scenarios ;
 247  scalar scale ;
 248  scale = 1;
 249  wind(scen,t) = scale* wind(scen,t) ;
 250  * Remove too many decimals in Solar
 251  wind(scen,t) = round(wind(scen,t),2) ;
 252   
 253   
 254  parameters max_store(t), min_store(t), max_charge, max_discharge;
 255   
 256   
 257  ** define tolerance threshold
 258  SCALAR threshold;
 259  threshold = floor(card(scen)*TOL)  ;
 260   
 261   
 262  parameter maxwind(t), minwind(t), dummywind(w,t) ;
 263  maxwind(t) =smax(w,wind(w,t)) ;
 264  dummywind(w,t) = wind(w,t) ;
 265   
 266  scalar it ;
 267  it = floor(card(w)*tol) + 1;
 268   
 269  * index of it
 270  set dummy(w);
 271  * make the dum_iter go till at least the size of it
 272  set dum_iter /dum_iter1*dum_iter100/;
 273  loop(t,
 274  loop(dum_iter$(ord(dum_iter)le it),
 275  * find the smallest wind value for this t
 276           minwind(t) = smin(w,dummywind(w,t)) ;
 277  * index of smallest wind value
 278           dummy(w) = yes$(dummywind(w,t) eq minwind(t)) ;
 279  * make the smallest wind value large
 280           dummywind(w,t)$dummy(w) =maxwind(t) ;
 281  ); );
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      01/03/22 15:15:37 Page 8
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 282  display minwind ;
 283   
 284   
 285   
 286  parameter BigMM(w), BigM(w,t);
 287  BigMM(w)= smax(t, wind(w,t));
 288  BigM(w,t)= G - wind(w,t) + minwind(t);
 289   
 290   
 291  scalar run_time_total, start_time, end_time, LP_time, bound_time, lr_time ;
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/subgradient_parameters.gms
 293  parameter lambda;
 294  parameter ldual value of Lagrangian dual ;
 295  parameter bound total value of Lagrangian dual ;
 296  scalar init_lambda, init_bound initial value of lambda dual LP objective from LP ;
 297  *Hier werden die maximalen Iterationen, also big M festgelegt
 298  *set iter                 number of subgradient iterations /iter1*iter3/;
 299  scalar num_iter          how many iterations we did ;
 300  scalar contin            stopping             /1/;
 301  parameter stepsize;
 302  scalar theta /2/;
 303  scalar originalTheta;
 304  originalTheta=theta;
 305  scalar noimprovement /0/;
 306  scalar upperbound ;
 307  parameter gamma           subgradient          ;
 308  parameter b;
 309  parameter norm;
 310  parameter norm2;
 311  scalar lowerbound;
 312  parameter lambdaprevious, deltalambda, results(iter,*), prev_w(scen,t), prev_y(t), prev_z(scen)  ;
 313  scalar profitFIXED;
 314  parameter  profit(iterFIX), yprevious(t), run_time(iterFIX);
 315   
 316   
 317  scalar m ;
 318  parameter   y_previous(scen,t), y_average_previous(t), weight_previous(scen,t);
 319  scalar profit_orig, t1, t2, exit_tol;
 320   
 321  scalar final_gap ;
 322   
 323  parameter lb(scen) ;
 324  parameter rho(t) ;
 325   
 326  scalar exit_tol ;
 327  exit_tol = 0.00001 ;
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/equations.gms
 329   
 330  POSITIVE VARIABLES X(W,T), Y(T), U(W,T), V(W,T);
 331  VARIABLES OBJ, BOUND_LR;
 332  BINARY VARIABLE Z(SCEN), R(W,T) ;
 333   
 334  scalar counter ;
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      01/03/22 15:15:37 Page 9
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 335   
 336  EQUATIONS
 337          Objective
 338          ObjectiveFIX
 339          Const1_1(scen,t)
 340          Const1_1FIX(scen,t)
 341          Const1_2
 342          Const1_2FIX
 343          Const_3_1(scen,t)
 344          Const_3_1_scenario(scen,t)
 345          Const_3_1FIX(scen,t)
 346          Const_3_2(scen,t)
 347          Const_3_2_scenario(scen,t)
 348          Const_3_2FIX(scen,t)
 349          Const_4_1(scen,t)
 350          Const_4_1_scenario(scen,t)
 351          Const_4_1FIX(scen,t)
 352          Const_4_2(scen,t)
 353          Const_4_2_scenario(scen,t)
 354          Const_4_2FIX(scen,t)
 355          Const_5(scen,t)
 356          Const_5_scenario(scen,t)
 357          Const_5FIX(scen,t)
 358          Const_6(scen,t)
 359          Const_6_scenario(scen,t)
 360          Const_6FIX(scen,t)
 361          LR
 362          Objective_scenario(scen)
 363          Const1_1_scenario(scen,t)
 364          ;
 365   
 366  ObjectiveFIX.. OBJ=E= SUM(T,PRICES(T, 'REW')*Y(T) - PROBABILITY*SUM(W, PRICES(T, 'GEN')*( X(W,T) + GG*R(w,t) ) )  )  ;
 367   
 368  Objective.. OBJ=E= SUM(T,PRICES(T, 'REW')*Y(T) - PROBABILITY*SUM(scen, PRICES(T, 'GEN')*( X(scen,T) + GG*R(scen,t) ) )  )  ;
 369   
 370  LR.. bound_lr =e=   SUM(T,PRICES(T, 'REW')*Y(T) - PROBABILITY*SUM(scen, PRICES(T, 'GEN')*( X(scen,T) + GG*R(scen,t) ) )  )
 371                           - lambda* (threshold - sum(scen, z(scen)))  ;
 372   
 373  Objective_scenario(scen)$(ord(scen) eq counter)..
 374           OBJ =E= SUM(TT,PRICES(tt, 'REW')*Y(TT) - PRICES(TT, 'GEN')*( X(scen,TT) + GG*R(scen,tt) ) )     ;
 375   
 376  *Const1_1(W,T).. Y(T)-X(W,T)-R(W,T)*GG -Z(W)*WIND(W,T) =L= (1-Z(W))*BigMM(w) ;
 377  Const1_1(scen,T).. Y(T)-X(scen,T)-R(scen,T)*GG -WIND(scen,T) =L= Z(scen)*BigM(scen,t) ;
 378   
 379  Const1_1FIX(W,T).. Y(T)-X(W,T)-R(W,T)*GG -WIND(W,T) =L= Z(W)*BigM(w,t) ;
 380   
 381  *Const1_1_scenario(scen,t)$(ord(t) lt card(t) and (ord(scen) eq counter))..
 382  Const1_1_scenario(scen,t)$(ord(scen) eq counter)..
 383   
 384           Y(T)-X(scen,T)-R(scen,T)*GG -WIND(scen,T) =L= 0 ;
 385   
 386  Const1_2..   -SUM(SCEN, Z(SCEN)) =G= -threshold;
 387  Const1_2FIX..  SUM(W,Z(W)) =L= threshold ;
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     01/03/22 15:15:37 Page 10
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 388   
 389  ****************************************************************************TODO Constraints (all but no. 1) in scenario form (z(w)=0)
 390   
 391  * The generator constraints
 392   
 393  *Ramp
 394  Const_3_1FIX(W,T)$( ord(t) le (card(t)-1)).. X(W,T+1) + GG*R(w,t+1)- X(W,T) - GG*R(w,t)  =L= ramp*(U(w,t+1) + R(w,t)) ;
 395  Const_3_1(scen,T)$( ord(t) le (card(t)-1)).. X(scen,T+1) + GG*R(scen,t+1)- X(scen,T) - GG*R(scen,t)  =L= ramp*(U(scen,t+1) + R(scen,t)) ;
 396  Const_3_1_scenario(scen,T)$( ord(t) le (card(t)-1) and (ord(scen) eq counter)).. X(scen,T+1) + GG*R(scen,t+1)- X(scen,T) - GG*R(scen,t)  =L= ramp*(U(scen,t+1) + R(scen,t)) ;
 397   
 398  Const_3_2(scen,T)$( ord(t) le (card(t)-1)).. X(scen,T) + GG*R(scen,t)- X(scen,T+1) -GG*R(scen,t+1)=L= ramp*(V(scen,t+1) + R(scen,t+1)) ;
 399  Const_3_2_scenario(scen,T)$( ord(t) le (card(t)-1) and (ord(scen) eq counter)).. X(scen,T) + GG*R(scen,t)- X(scen,T+1) -GG*R(scen,t+1)=L= ramp*(V(scen,t+1) + R(scen,t+1)) ;
 400  Const_3_2FIX(W,T)$( ord(t) le (card(t)-1)).. X(W,T) + GG*R(w,t)- X(W,T+1) -GG*R(w,t+1)=L= ramp*(V(w,t+1) + R(w,t+1)) ;
 401   
 402  *On/off
 403   
 404  Const_4_1(scen,T)$(ord(t) ge uptime)..   Sum(tt$((ORD(TT) le ORD(T)) and (ORD(TT) ge (ORD(T) - UPTIME +1))),U(scen,TT)) =L= R(scen,T) ;
 405  Const_4_1_scenario(scen,T)$(ord(t) ge uptime and (ord(scen) eq counter))..   Sum(tt$((ORD(TT) le ORD(T)) and (ORD(TT) ge (ORD(T) - UPTIME +1))),U(scen,TT)) =L= R(scen,T) ;
 406  Const_4_1FIX(W,T)$(ord(t) ge uptime)..   Sum(tt$((ORD(TT) le ORD(T)) and (ORD(TT) ge (ORD(T) - UPTIME +1))),U(W,TT)) =L= R(W,T) ;
 407   
 408  Const_4_2(scen,T)$(ord(t) ge downtime )..Sum(tt$((ORD(TT) le ORD(T)) and (ORD(TT) ge (ORD(T) - DOWNTIME +1))),V(scen,TT)) =L= 1-R(scen,T) ;
 409  Const_4_2_scenario(scen,T)$(ord(t) ge downtime and (ord(scen) eq counter))..Sum(tt$((ORD(TT) le ORD(T)) and (ORD(TT) ge (ORD(T) - DOWNTIME +1))),V(scen,TT)) =L= 1-R(scen,T) ;
 410  Const_4_2FIX(W,T)$(ord(t) ge downtime )..Sum(tt$((ORD(TT) le ORD(T)) and (ORD(TT) ge (ORD(T) - DOWNTIME +1))),V(W,TT)) =L= 1-R(W,T) ;
 411   
 412  Const_5(scen,T)$(ord(t) ge 2).. U(scen,T) - V(scen,T) =E= R(scen,T) - R(scen,T-1) ;
 413  Const_5_scenario(scen,T)$(ord(t) ge 2 and (ord(scen) eq counter)).. U(scen,T) - V(scen,T) =E= R(scen,T) - R(scen,T-1) ;
 414  Const_5FIX(W,T)$(ord(t) ge 2).. U(W,T) - V(W,T) =E= R(W,T) - R(W,T-1) ;
 415   
 416  *if uptime more than 1
 417  Const_6(scen,T)$( ord(t) le (card(t)-1))..   (G-GG)*R(scen,T)- (G-ramp)*U(scen,T) - (G-ramp)*V(scen,T+1) =G= X(scen,T);
 418  Const_6_scenario(scen,T)$( ord(t) le (card(t)-1) and (ord(scen) eq counter))..   (G-GG)*R(scen,T)- (G-ramp)*U(scen,T) - (G-ramp)*V(scen,T+1) =G= X(scen,T);
 419  Const_6FIX(W,T)$( ord(t) le (card(t)-1))..   (G-GG)*R(W,T)- (G-ramp)*U(W,T) - (G-ramp)*V(W,T+1) =G= X(W,T);
 420   
 421   
 422  *** bounds on any variables
 423  X.UP(scen,T) =  G-GG;
 424  U.UP(scen,T) = 1;
 425  V.UP(scen,T) =1;
 426  Z.UP(scen)=1;
 427   
 428  * initialize the on/off variables
 429  * assume the unit was on for last (uptime -1) periods
 430  r.fx(scen,t)$(ord(t) eq 1) =1;
 431  u.fx(scen,t)$(ord(t) eq 1) = 0;
 432  v.fx(scen,t)$(ord(t) eq 1) = 0 ;
 433  * assume the generator was producing minimim power in last time period
 434  x.up(scen,t)$(ord(t) eq 1)= ramp - GG;
 435   
 436   
 437  ******* ALL MODELS
 438   
 439  model schedule     / Objective,  Const1_1, Const1_2, Const_3_1, Const_3_2, Const_4_1, Const_4_2, Const_5, Const_6 /;
 440  model schedule_scenario     / Objective_scenario,  Const1_1_scenario, Const_3_1_scenario, Const_3_2_scenario, Const_4_1_scenario, Const_4_2_scenario, Const_5_scenario, Const_6_scenario / ;
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     01/03/22 15:15:37 Page 11
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 441  *model INITIAL               / / ;
 442  model Lagrangian      / LR,    Const1_1, Const_3_1, Const_3_2, Const_4_1, Const_4_2, Const_5, Const_6 /;
 443  MODEL  SCHEDULEFIX    /ObjectiveFIX,Const1_1FIX,Const1_2FIX, Const_3_1FIX, Const_3_2FIX, Const_4_1FIX, Const_4_2FIX, Const_5FIX, Const_6FIX/;
 444   
 445   
 446   
 447   
 448   
 449   
 450   
 451   
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/lp_lowerbound.gms
 453  start_time = jnow ;
 454  options optca=0 ;
 455  options optcr=0 ;
 456  solve schedule using RMIP minimizing OBJ ;
 457  end_time =jnow ;
 458  LP_time = ghour(end_time - start_time)*3600 + gminute(end_time - start_time)*60 + gsecond(end_time - start_time);
 459  init_lambda  = Const1_2.m ;
 460  lowerbound   = Obj.l ;
 461  scalar LP_bound ;
 462  lambda       = init_lambda ;
 463  display init_lambda, LP_time, lowerbound    ;
 464  LP_bound   = Obj.l ;
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/heuristic_upperbound.gms
 466  ********************************************************************************
 467  * Find a upperbound on the problem : a feasible solution
 468  ********************************************************************************
 469   
 470  *upperbound =  0;
 471  * Find a upper bound using a fixed value and solving MIP (a feasible solution)
 472  * solve single scenario problem and choose the worst #threshold problems
 473  start_time = jnow ;
 474  schedule_scenario.solvelink = 5 ;
 475  alias(rs,scen)
 476  parameter res_scenarios(rs,*) ;
 477   
 478  loop(rs,
 479  counter = ord(rs)  ;
 480  *Solving (2) for each scenario w with corresponding z(w) = 0
 481  solve schedule_scenario using MIP minimizing Obj ;
 482  res_scenarios(rs,'obj') =obj.l ;
 483   
 484   
 485  res_scenarios(rs,'scenario') = counter ;
 486  *=counter
 487   
 488   
 489  );
 490  end_time =jnow ;
 491  run_time_total = ghour(end_time - start_time)*3600 + gminute(end_time - start_time)*60 + gsecond(end_time - start_time);
 492   
 493   
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     01/03/22 15:15:37 Page 12
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 494  ** Write to a file to sort
 495  FILE scen_sorted /scen_sorted.csv/;
 496  *.PC specifies the format of the put file: 5 -> Formatted output; non-numeric output is quoted and each item is delimited with commas.
 497  scen_sorted.PC = 5;
 498  *.ND sets the number of decimals that are displayed in the put file
 499  scen_sorted.ND = 3;
 500  PUT scen_sorted;
 501  loop(rs, put res_scenarios(rs,'scenario') put res_scenarios(rs,'obj') put /; ) ;
 502  PUTCLOSE scen_sorted;
 503   
 504   
 505  z.lo(scen) = scenario_sorted(scen,'value') ;
****                             $140         $116
**** LINE     40 INCLUDE     /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/heuristic_upperbound.gms
**** LINE     17 INPUT       /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/main_for_lr6.gms
 506  *** Ensure file was generated correctly
 507  if ( sum(scen,z.lo(scen)) ne threshold, abort "sorted file not generated correctly check manually") ;
 508  start_time = jnow ;
 509  schedule.solprint = 0;
 510  *schedule.optfile  = 1;
 511  schedule.solvelink = 5 ;
 512  solve schedule using MIP minimizing Obj ;
****                                          $257
**** LINE     47 INCLUDE     /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/heuristic_upperbound.gms
**** LINE     17 INPUT       /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/main_for_lr6.gms
 513  end_time = jnow ;
 514  bound_time =  run_time_total + ghour(end_time - start_time)*3600 + gminute(end_time - start_time)*60 + gsecond(end_time - start_time);
 515  upperbound = Obj.l ;
 516  prev_y(t) = y.l(t) ;
 517  *prev_w(scen,t) = w.l(scen,t) ;
 518  * Clear bound on z now
 519  z.up(scen) = 1 ;
 520  z.lo(scen) = 0 ;
 521   
 522  display lowerbound,upperbound,prev_y, LP_time, bound_time  ;
 523   
 524   
 525   
 526  File TestingFile3 / LR1.csv /;
 527  TestingFile3.pc=5;
 528  TestingFile3.nd=5;
 529  put TestingFile3;
 530  put 'Omega', put 'Tolerance', put 'Step Size Rule', put 'Iterations', put 'Converged?', put 'Gap LR', put 'Gap Naive', put 'Obj. Naive', put 'Obj. LR', put 'Gap' put 'Time Naive', put 'Time LR', put 'Final Lambda', put 'LB Heuristic' put /;
 531   
 532   
 533   
 534  ********************************************************************************
 535  * Solve the Lagrangian Dual problem now
 536  ********************************************************************************
 537  scalar d;
 538  scalar FinalIter;
 539  sets ro "rows" /1/;
 540  sets cl "columns" /1*3/;
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     01/03/22 15:15:37 Page 13
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


GDXIN   /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/Naive.gdx
 543  *$load i=dim1
 544  *$load j=dim2
 545  parameter nv(ro,cl) ;
--- LOAD  nv = 1:nv
 548  display ro,cl,nv;
 549   
 550  scalar zlower;
 551  zlower=nv('1','1');
 552   
 553  scalar GapNaive;
 554  GapNaive =nv('1','2');
 555   
 556  scalar TimeNaive;
 557  TimeNaive= nv('1','3');
 558   
 559  parameter ldual_iter(iter) obj function at each iteration ;
 560  lr_time = 0 ;
 561   
 562  option limrow = 0, limcol = 0, optca=0.0001, optcr=0.0001;
 563   
 564   
 565  parameter check(scen,t);
 566  scalar steprule;
 567  steprule=6;
 568  scalar FinalIter;
 569   
 570   
 571      lr_time=0;
 572      run_time_total=0;
 573   
 574   
 575   
 576      y.lo(t)=0;
 577      y.up(t)=INF;
 578      option clear=y;
 579      Lagrangian.solveOpt=2;
 580   
 581      loop(iter$contin,
 582      num_iter = ord(iter) ;
 583  *         pass a warm start
 584  *             y.l(t) = prev_y(t) ;
 585  *             z.l(scen) = prev_z(scen) ;
 586               start_time = jnow;
 587   
 588  *********************************************************************
 589  ***Solve a Lagrangian iteration
 590  *********************************************************************
 591   
 592  *Test
 593   
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/plain_lr.gms
 595  * Plain LR solve
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     01/03/22 15:15:37 Page 14
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 596  Lagrangian.solvelink = 5;
 597  Lagrangian.optfile   = 1;
 598  solve Lagrangian using mip minimizing bound_lr  ;
****                                                  $257
**** LINE      4 INCLUDE     /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/plain_lr.gms
**** LINE     88 INPUT       /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/main_for_lr6.gms
 599   
 600  bound             = bound_lr.l ;
****                               $141
**** LINE      6 INCLUDE     /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/plain_lr.gms
**** LINE     88 INPUT       /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/main_for_lr6.gms
 601  prev_y(t)         = y.l(t) ;
 602  last_z(scen)      = z.l(scen) ;
 603   
 604  * if model is unbounded
 605  if (Lagrangian.modelstat =18,  bound = -100000000;  );
 606  results(iter,'status') = Lagrangian.modelstat;
 607   
 608      end_time = jnow ;
 609      results(iter,'time') = ghour(end_time - start_time)*3600 + gminute(end_time - start_time)*60 + gsecond(end_time - start_time);
 610      results(iter,'objective') = bound ;
 611   
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/LR_updates.gms
 613  *** UPDATES FOR LAMBDA, GAMMA, THETA
 614   
 615  * Gamma update
 616  gamma =  threshold - sum(scen, last_z(scen));
 617   
 618  * Bound and theta Update -> in stepsize 6
 619  if (bound > lowerbound,
 620           lowerbound = bound;
 621           noimprovement = 0;
 622  else
 623           noimprovement = noimprovement + 1;
 624           if (noimprovement > 1,  theta = theta/2; noimprovement = 0; );
 625  );
 626   
 627  * Fix the Stepsize
 628   
INCLUDE    /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/stepsizes.gms
 630  *** Guarantees that never zero in the denominator
 631  *norm = max(abs(gamma), 1e-6);
 632  norm2 = max(gamma*gamma, 1e-6);
 633   
 634  *** constant step-size rule
 635  if(steprule=1,stepsize =0.58;);
 636   
 637  *** constant step length
 638  if(steprule=2,stepsize = 200/norm2;);
 639   
 640  *** square summable but not summable
 641  if(steprule=3,stepsize =3/(2+num_iter););
 642   
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     01/03/22 15:15:37 Page 15
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 643  *** nonsummable diminishing
 644  if(steprule=4,stepsize= 1/sqrt(num_iter););
 645   
 646  *** nonsummable diminishing step length
 647  if(steprule=5,stepsize= (300/num_iter)/norm2;);
 648   
 649  *** original
 650  if(steprule=6,stepsize=theta*(upperbound - bound)/norm2;);
 651   
 652  * Lambda Update
 653   
 654  lambdaprevious = lambda ;
 655   
 656           if (gamma ge 0 and lambdaprevious eq 0,
 657                   lambda = lambdaprevious ; );
 658           if (gamma gt 0 and lambdaprevious gt 0,
 659                   lambda = lambdaprevious - min(stepsize, lambdaprevious/gamma)*gamma ; );
 660           if (gamma le 0,
 661                   lambda = lambdaprevious - stepsize*gamma; );
 662   
 663  * Check convergence
 664  convergence=0;
 665  deltalambda = abs(lambdaprevious-lambda) ;
 666  if( deltalambda < 0.0001, contin = 0; display 'lambdas same'; convergence = 1 );
 667   
 668  * Results output
 669  results(iter,'deltalambda') = deltalambda;
 670  results(iter,'noimprov') = noimprovement;
 671  results(iter,'theta') = theta;
 672  results(iter,'step') = stepsize;
 673  results(iter,'gamma') = gamma ;
 674  results(iter,'lambda') = lambda ;
 675  results(iter,'gap') = (((-lowerbound)+upperbound)/(-lowerbound))    ; //gap is same as computed by GAMS
****                                                                        $767,409
**** LINE     42 INCLUDE     /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/LR_updates.gms
**** LINE     94 INPUT       /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/main_for_lr6.gms
 676      if( ((results(iter,'gap') < exit_tol) and (num_iter > 2)),convergence=2; contin = 0;);
****                        $149
**** LINE     95 INPUT       /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/main_for_lr6.gms
 677      lr_time = lr_time + results(iter,'time')   ;
****                                      $149
**** LINE     96 INPUT       /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/main_for_lr6.gms
 678      if (lr_time > 2400, contin = 0 ; ) ;
 679      d=results(iter,'gap');
****                    $149
**** LINE     98 INPUT       /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/main_for_lr6.gms
 680      FinalIter=num_iter;
 681  );
****  $408
**** LINE    100 INPUT       /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/main_for_lr6.gms
 682   
 683  *run_time_total = LP_time + lr_time + bound_time  ;
 684   
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     01/03/22 15:15:37 Page 16
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 685  * check if any p and q active simultaneously (nothing to do with Lagrangian)
 686  *parameter check(scen,t);
 687   
 688  scalar ObjLR;
 689  scalar heuristic;
 690  ObjLR=-lowerbound;
 691  heuristic=-upperbound;
 692   
 693  display results, lowerbound, upperbound, LP_bound, run_time_total, lr_time, num_iter ;
 694  display z.l, y.l ;
 695  display zlower, ObjLR, heuristic;
 696   
 697   
 698  put TestingFile3;
 699  put n, put tol, put steprule, put FinalIter, put convergence, put d, put GapNaive, put zlower, put ObjLR, put ((ObjLR-max(heuristic,zlower))/ObjLR), put TimeNaive, put lr_time, put lambda, put heuristic put /;

**** LIST OF STRAY NAMES - CHECK DECLARATIONS FOR SPURIOUS COMMAS
**** STRAY NAME start_cost OF TYPE PARAM
**** STRAY NAME max_charge OF TYPE PARAM
**** STRAY NAME max_discharge OF TYPE PARAM
**** STRAY NAME init_bound OF TYPE PARAM
**** STRAY NAME t1 OF TYPE PARAM
**** STRAY NAME t2 OF TYPE PARAM
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     01/03/22 15:15:37 Page 17
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Error Messages


116  Label is unknown
140  Unknown symbol
141  Symbol declared but no values have been assigned. Check for missing
        data definition, assignment, data loading or implicit assignment
        via a solve statement.
        A wild shot: You may have spurious commas in the explanatory
        text of a declaration. Check symbol reference list.
149  Uncontrolled set entered as constant
257  Solve statement not checked because of previous errors
408  Too many ),] or }
409  Unrecognizable item - skip to find a new statement
       looking for a ';' or a key word to get started again
767  Unexpected symbol will terminate the loop - symbol replaced by )

**** 11 ERROR(S)   0 WARNING(S)
GAMS 24.8.5  r61358 Released May 10, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     01/03/22 15:15:37 Page 18
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/main_for_lr6.gms
     2       13 INCLUDE        1      13  ./home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/input.gms
     3       27 INCLUDE        2      14  ../home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/wind_costs.csv
     4       62 INCLUDE        2      24  ../home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/wind_scenarios.csv
     5      193 INCLUDE        2      54  ../home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/sampled_dynamic_hi.csv
     6      292 INCLUDE        1      14  ./home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/subgradient_parameters.gms
     7      328 INCLUDE        1      15  ./home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/equations.gms
     8      452 INCLUDE        1      16  ./home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/lp_lowerbound.gms
     9      465 INCLUDE        1      17  ./home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/heuristic_upperbound.gms
    10      541 CALL           1      35  csv2gdx Naive.csv id=nv index=1 values=2..lastCol useHeader=y
    11      542 GDXIN          1      36  /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/Naive.gdx
    12      594 INCLUDE        1      88  ./home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/plain_lr.gms
    13      612 INCLUDE        1      94  ./home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/LR_updates.gms
    14      629 INCLUDE       13      17  ../home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/stepsizes.gms


COMPILATION TIME     =        0.111 SECONDS      3 MB  24.8.5 r61358 LEX-LEG


USER: Small MUD - 5 User License                     S160825:0507AO-LNX
      Universitaet Erlangen-Nuernberg, Lehrstuhl f. WirtschaftsmaDC7699
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/main_for_lr6.gms
Output     /home/hpc/mpwm/mpwm031h/ArticleSubgradient/Code/SampleRun_Environment_Wind/100Scens/tol03/Scenario11/main_for_lr6.lst

**** USER ERROR(S) ENCOUNTERED
